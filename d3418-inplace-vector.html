<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>D3418R0: Wording for P3160R2 inplace_vector’s "construct/destroy" alternative</title>
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in § N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *     -> ins/del.c### for candidate and proposed changes (amendments)
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *   - .correction for "candidate corrections"       (div, aside, details, section)
 *   - .addition   for "candidate additions"         (div, aside, details, section)
 *   - .correction.proposed for "proposed corrections" (div, aside, details, section)
 *   - .addition.proposed   for "proposed additions"   (div, aside, details, section)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Outdated warning for old specs
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/* color variables included separately for reliability */

/******************************************************************************/
/*                                    Body                                    */
/******************************************************************************/

	html {
	}

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;			  /* limit line length to 50em for readability   */
		margin: 0 auto;				/* center text within page                    */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag    */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		color: black;
		color: var(--text);
		background: white top left fixed no-repeat;
		background: var(--bg) top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em; }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border: solid var(--logo-bg);
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		background: var(--logo-bg);
		color: white;
		color: var(--logo-text);
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		background: var(--logo-active-bg);
		border-color: #c00;
		border-color: var(--logo-active-bg);
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small; }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 3;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;

			color: #707070;
			color: var(--tocnav-normal-text);
			background: white;
			background: var(--tocnav-normal-bg);
		}
		#toc-nav > a:hover,
		#toc-nav > a:focus {
			color: black;
			color: var(--tocnav-hover-text);
			background: #f8f8f8;
			background: var(--tocnav-hover-bg);
		}
		#toc-nav > a:active {
			color: #c00;
			color: var(--tocnav-active-text);
			background: white;
			background: var(--tocnav-active-bg);
		}

		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;	/* Inherit the font family. */
		line-height: 1.2;		/* Keep wrapped headings compact */
		hyphens: manual;		/* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		color: var(--heading-text);
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#profile-and-date {
		/* #profile-and-date is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > :not(.head) + hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		color: black;
		color: var(--hr-text);
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	border-left: 0.5em solid #DEF;
	border-left: 0.5em solid var(--algo-border);
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	 padding: .5em;
	 border: thin solid #ddd;
	 border: thin solid var(--algo-border);
	 border-radius: .5em;
	 margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	 margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	 margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	margin-left: -2em;
	}
	dl.switch {
	padding-left: 2em;
	}
	dl.switch > dt {
	text-indent: -1.5em;
	margin-top: 1em;
	}
	dl.switch > dt + dt {
	margin-top: 0;
	}
	dl.switch > dt::before {
	content: '\21AA';
	padding: 0 0.5em 0 0;
	display: inline-block;
	width: 1em;
	text-align: right;
	line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: inherit;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del {
		color: #aa0000;
		color: var(--del-text);
		background: transparent;
		background: var(--del-bg);
		text-decoration: line-through;
	}
	ins {
		color: #006100;
		color: var(--ins-text);
		background: transparent;
		background: var(--ins-bg);
		text-decoration: underline;
	}

	/* for amendments (candidate/proposed changes) */

	.amendment ins, .correction ins, .addition ins,
	ins[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment del, .correction del, .addition del,
	del[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment.proposed ins, .correction.proposed ins, .addition.proposed ins,
	ins[class^=c].proposed {
		text-decoration-style: double;
	}
	.amendment.proposed del, .correction.proposed del, .addition.proposed del,
	del[class^=c].proposed {
		text-decoration-style: double;
	}

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		hyphens: none;
		text-transform: none;
		text-align: left;
		text-align: start;
		font-variant: normal;
		orphans: 3;
		widows: 3;
		page-break-before: avoid;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

	/* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		color: var(--a-normal-text);
		text-decoration: underline #707070;
		text-decoration: underline var(--a-normal-underline);
		text-decoration-skip-ink: none;
	}
	a:visited {
		color: #034575;
		color: var(--a-visited-text);
		text-decoration-color: #bbb;
		text-decoration-color: var(--a-visited-underline);
	}

	/* Indicate interaction with the link */
	a[href]:focus,
	a[href]:hover {
		text-decoration-thickness: 2px;
	}
	a[href]:active {
		color: #c00;
		color: var(--a-active-text);
		text-decoration-color: #c00;
		text-decoration-color: var(--a-active-underline);
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	img, svg {
		/* Intentionally not color-scheme aware. */
		background: white;
	}

	/* For autogen numbers, add
	  .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,	.sidefigure img,	figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
		height: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em;
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em; }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote,
	.amendment, .correction, .addition {
		margin: 1em auto;
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	blockquote > :first-child,
	.note  > p:first-child,
	.issue > p:first-child,
	.amendment > p:first-child,
	.correction > p:first-child,
	.addition > p:first-child {
		margin-top: 0;
	}
	blockquote > :last-child,
	.note  > p:last-child,
	.issue > p:last-child,
	.amendment > p:last-child,
	.correction > p:last-child,
	.addition > p:last-child {
		margin-bottom: 0;
	}


	.issue::before, .issue > .marker,
	.example::before, .example > .marker,
	.note::before, .note > .marker,
	details.note > summary > .marker,
	.amendment::before, .amendment > .marker,
	details.amendment > summary > .marker,
	.addition::before, .addition > .marker,
	addition.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	correction.amendment > summary > .marker
	{
		text-transform: uppercase;
		padding-right: 1em;
	}

	.example::before, .example > .marker {
		display: block;
		padding-right: 0em;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
		border-color: var(--blockquote-border);
		background: transparent;
		background: var(--blockquote-bg);
		color: currentcolor;
		color: var(--blockquote-text);
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #e05252;
		border-color: var(--issue-border);
		background: #fbe9e9;
		background: var(--issue-bg);
		color: black;
		color: var(--issue-text);
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		color: #831616;
		color: var(--issueheading-text);
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	  or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #e0cb52;
		border-color: var(--example-border);
		background: #fcfaee;
		background: var(--example-bg);
		color: black;
		color: var(--example-text);
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		color: #574b0f;
		color: var(--exampleheading-text);
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	  or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52e052;
		border-color: var(--note-border);
		background: #e9fbe9;
		background: var(--note-bg);
		color: black;
		color: var(--note-text);
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary {
		color: hsl(120, 70%, 30%);
		color: var(--noteheading-text);
	}
	/* Add .note::before { content: "Note "; } for autogen label,
	  or use class="marker" to mark up the label in source. */

	details.note[open] > summary {
		border-bottom: 1px silver solid;
		border-bottom: 1px var(--notesummary-underline) solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		border-color: var(--assertion-border);
		background: #EEE;
		background: var(--assertion-bg);
		color: black;
		color: var(--assertion-text);
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-color: var(--advisement-border);
		border-style: none solid;
		background: #fec;
		background: var(--advisement-bg);
		color: black;
		color: var(--advisement-text);
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement::before, .advisement > .marker {
		color: #b35f00;
		color: var(--advisementheading-text);
	}

/** Amendment Box *************************************************************/

	.amendment, .correction, .addition {
		border-color: #330099;
		border-color: var(--amendment-border);
		background: #F5F0FF;
		background: var(--amendment-bg);
		color: black;
		color: var(--amendment-text);
	}
	.amendment.proposed, .correction.proposed, .addition.proposed {
		border-style: solid;
		border-block-width: 0.25em;
	}
	.amendment::before, .amendment > .marker,
	details.amendment > summary::before, details.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	details.correction > summary::before, details.correction > summary > .marker,
	.addition::before, .addition > .marker,
	details.addition > summary::before, details.addition > summary > .marker {
		color: #220066;
		color: var(--amendmentheading-text);
	}
	.amendment.proposed::before, .amendment.proposed > .marker,
	details.amendment.proposed > summary::before, details.amendment.proposed > summary > .marker,
	.correction.proposed::before, .correction.proposed > .marker,
	details.correction.proposed > summary::before, details.correction.proposed > summary > .marker,
	.addition.proposed::before, .addition.proposed > .marker,
	details.addition.proposed > summary::before, details.addition.proposed > summary > .marker {
		font-weight: bold;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: hsla(40,100%,50%,0.95);
		background: var(--warning-bg);
		color: black;
		color: var(--warning-text);
		padding: .75em 1em;
		border: red;
		border: var(--warning-border);
		border-style: solid none;
		box-shadow: 0 2px 8px black;
		text-align: center;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 0;
		right: 0;
		bottom: 2em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #def;
		background: var(--def-bg);
		margin: 1.2em 0;
		border-left: 0.5em solid #8ccbf2;
		border-left: 0.5em solid var(--def-border);
		color: black;
		color: var(--def-text);
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
		border-bottom: 1px solid var(--defrow-border);
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def td.footnote {
		padding-top: 0.6em;
	}
	table.def td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		<table class="data"> highlights structural relationships in a table
		when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		Use class="complex data" for particularly complicated tables --
		(This will draw more lines: busier, but clearer.)

		Use class="long" on table cells with paragraph-like contents
		(This will adjust text alignment accordingly.)
		Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-color: var(--datacell-border);
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		border-top: 1px solid var(--datacell-border);
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		border: 1px solid var(--datacell-border);
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
		vertical-align: baseline;
		text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding: 0.1rem 1px 0;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Switch to using border-bottom for underlines */
		text-decoration: none;
		border-bottom: 1px solid;
		/* Reverse color scheme */
		color: black;
		color: var(--toclink-text);
		border-color: #3980b5;
		border-color: var(--toclink-underline);
	}
	.toc a:visited {
		color: black;
		color: var(--toclink-visited-text);
		border-color: #054572;
		border-color: var(--toclink-visited-underline);
	}
	.toc a:focus,
	.toc a:hover {
		background: rgba(75%, 75%, 75%, .25);
		background: var(--a-hover-bg);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
	}
	.toc {
		line-height: 1.1em;
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li			{ font-weight: bold;   }
	.toc > li li		 { font-weight: normal; }
	.toc > li li li	  { font-size:   95%;	}
	.toc > li li li li	{ font-size:   90%;	}
	.toc > li li li li li { font-size:   85%;	}

	/* @supports not (display:grid) { */
		.toc > li			{ margin: 1.5rem 0;	}
		.toc > li li		 { margin: 0.3rem 0;	}
		.toc > li li li	  { margin-left: 2rem;   }

		/* Section numbers in a column of their own */
		.toc .secno {
			float: left;
			width: 4rem;
			white-space: nowrap;
		}
		.toc > li li li li .secno { font-size: 85%; }
		.toc > li li li li li .secno { font-size: 100%; }

		.toc li {
			clear: both;
		}

		:not(li) > .toc			 { margin-left:  5rem; }
		.toc .secno				 { margin-left: -5rem; }
		.toc > li li li .secno	  { margin-left: -7rem; }
		.toc > li li li li .secno	{ margin-left: -9rem; }
		.toc > li li li li li .secno { margin-left: -11rem; }

		/* Tighten up indentation in narrow ToCs */
		@media (max-width: 30em) {
			:not(li) > .toc			 { margin-left:  4rem; }
			.toc .secno				 { margin-left: -4rem; }
			.toc > li li li			 { margin-left:  1rem; }
			.toc > li li li .secno	  { margin-left: -5rem; }
			.toc > li li li li .secno	{ margin-left: -6rem; }
			.toc > li li li li li .secno { margin-left: -7rem; }
		}
		/* Loosen it on wide screens */
		@media screen and (min-width: 78em) {
			body:not(.toc-inline) :not(li) > .toc			 { margin-left:  4rem; }
			body:not(.toc-inline) .toc .secno				 { margin-left: -4rem; }
			body:not(.toc-inline) .toc > li li li			 { margin-left:  1rem; }
			body:not(.toc-inline) .toc > li li li .secno	  { margin-left: -5rem; }
			body:not(.toc-inline) .toc > li li li li .secno	{ margin-left: -6rem; }
			body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	/* } */

	@supports (display:grid) and (display:contents) {
		/* Use #toc over .toc to override non-@supports rules. */
		#toc {
			display: grid;
			align-content: start;
			grid-template-columns: auto 1fr;
			grid-column-gap: 1rem;
			column-gap: 1rem;
			grid-row-gap: .6rem;
			row-gap: .6rem;
		}
		#toc h2 {
			grid-column: 1 / -1;
			margin-bottom: 0;
		}
		#toc ol,
		#toc li,
		#toc a {
			display: contents;
			/* Switch <a> to subgrid when supported */
		}
		#toc span {
			margin: 0;
		}
		#toc > .toc > li > a > span {
			/* The spans of the top-level list,
			  comprising the first items of each top-level section. */
			margin-top: 1.1rem;
		}
		#toc#toc .secno { /* Ugh, need more specificity to override base.css */
			grid-column: 1;
			width: auto;
			margin-left: 0;
		}
		#toc .content {
			grid-column: 2;
			width: auto;
			margin-right: 1rem;
			border-bottom: 3px solid transparent;
			margin-bottom: -3px;
		}
		#toc .content:hover,
		#toc .content:focus {
			background: rgba(75%, 75%, 75%, .25);
			background: var(--a-hover-bg);
			border-bottom-color: #054572;
			border-bottom-color: var(--toclink-underline);
		}
		#toc li li li .content {
			margin-left: 1rem;
		}
		#toc li li li li .content {
			margin-left: 2rem;
		}
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index	  { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li	{ margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em; }
	ul.index dl	{ margin-top: 0; }
	ul.index dt	{ margin: .2em 0 .2em 20px;}
	ul.index dd	{ margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li a + span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
			color: var(--indexinfo-text);
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		color: black;
		color: var(--indextable-hover-text);
		background: #f7f8f9;
		background: var(--indextable-hover-bg);
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/** Outdated warning **********************************************************/

.outdated-spec {
	color: black;
	color: var(--outdatedspec-text);
	background-color: rgba(0,0,0,0.5);
	background-color: var(--outdatedspec-bg);
}

.outdated-warning {
	position: fixed;
	bottom: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	width: 50%;
	background: maroon;
	background: var(--outdated-bg);
	color: white;
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	position: absolute;
	top: 0;
	right:0;
	margin: 0;
	border: 0;
	padding: 0.25em 0.5em;
	background: transparent;
	color: white;
	color: var(--outdated-text);
	font:1em sans-serif;
	text-align:center;
}

.outdated-warning span {
	display: block;
}

.outdated-collapsed {
	bottom: 0;
	border-radius: 0;
	width: 100%;
	padding: 0;
}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}

		.outdated-warning {
			position: absolute;
			border-style: solid;
			border-color: red;
		}

		.outdated-warning input {
			display: none;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge {
		/* Magic to create good item positioning:
		  "content column" is 50ems wide at max; less on smaller screens.
		  Extra space (after ToC + content) is empty on the right.

		  1. When item < content column, centers item in column.
		  2. When content < item < available, left-aligns.
		  3. When item > available, fills available + scroll bar.
		*/
		display: grid;
		grid-template-columns: minmax(0, 50em);
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			* http://lea.verou.me/2012/04/background-attachment-local/
			*
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
						top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
						top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
<style>
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
      vertical-align: top;
    }
    th, td {
      border-left: none;
      border-right: none;
      padding: 0px 10px;
    }
    th {
      text-align: center;
    }

    del { background: #fcc; color: #000; text-decoration: line-through; }
    ins { background: #cfc; color: #000; }
    blockquote .highlight:not(.idl) { background: initial; margin: initial; padding: 0.5em }
    blockquote ul { background: inherit; }
    blockquote code.highlight:not(.idl) { padding: initial; }
    blockquote c-[a] { color: inherit; } /* Keyword.Declaration */
    blockquote c-[b] { color: inherit; } /* Keyword.Type */
    blockquote c-[c] { color: inherit; } /* Comment */
    blockquote c-[d] { color: inherit; } /* Comment.Multiline */
    blockquote c-[e] { color: inherit; } /* Name.Attribute */
    blockquote c-[f] { color: inherit; } /* Name.Tag */
    blockquote c-[g] { color: inherit; } /* Name.Variable */
    blockquote c-[k] { color: inherit; } /* Keyword */
    blockquote c-[l] { color: inherit; } /* Literal */
    blockquote c-[m] { color: inherit; } /* Literal.Number */
    blockquote c-[n] { color: inherit; } /* Name */
    blockquote c-[o] { color: inherit; } /* Operator */
    blockquote c-[p] { color: inherit; } /* Punctuation */
    blockquote c-[s] { color: inherit; } /* Literal.String */
    blockquote c-[t] { color: inherit; } /* Literal.String.Single */
    blockquote c-[u] { color: inherit; } /* Literal.String.Double */
    blockquote c-[cp] { color: inherit; } /* Comment.Preproc */
    blockquote c-[c1] { color: inherit; } /* Comment.Single */
    blockquote c-[cs] { color: inherit; } /* Comment.Special */
    blockquote c-[kc] { color: inherit; } /* Keyword.Constant */
    blockquote c-[kn] { color: inherit; } /* Keyword.Namespace */
    blockquote c-[kp] { color: inherit; } /* Keyword.Pseudo */
    blockquote c-[kr] { color: inherit; } /* Keyword.Reserved */
    blockquote c-[ld] { color: inherit; } /* Literal.Date */
    blockquote c-[nc] { color: inherit; } /* Name.Class */
    blockquote c-[no] { color: inherit; } /* Name.Constant */
    blockquote c-[nd] { color: inherit; } /* Name.Decorator */
    blockquote c-[ni] { color: inherit; } /* Name.Entity */
    blockquote c-[ne] { color: inherit; } /* Name.Exception */
    blockquote c-[nf] { color: inherit; } /* Name.Function */
    blockquote c-[nl] { color: inherit; } /* Name.Label */
    blockquote c-[nn] { color: inherit; } /* Name.Namespace */
    blockquote c-[py] { color: inherit; } /* Name.Property */
    blockquote c-[ow] { color: inherit; } /* Operator.Word */
    blockquote c-[mb] { color: inherit; } /* Literal.Number.Bin */
    blockquote c-[mf] { color: inherit; } /* Literal.Number.Float */
    blockquote c-[mh] { color: inherit; } /* Literal.Number.Hex */
    blockquote c-[mi] { color: inherit; } /* Literal.Number.Integer */
    blockquote c-[mo] { color: inherit; } /* Literal.Number.Oct */
    blockquote c-[sb] { color: inherit; } /* Literal.String.Backtick */
    blockquote c-[sc] { color: inherit; } /* Literal.String.Char */
    blockquote c-[sd] { color: inherit; } /* Literal.String.Doc */
    blockquote c-[se] { color: inherit; } /* Literal.String.Escape */
    blockquote c-[sh] { color: inherit; } /* Literal.String.Heredoc */
    blockquote c-[si] { color: inherit; } /* Literal.String.Interpol */
    blockquote c-[sx] { color: inherit; } /* Literal.String.Other */
    blockquote c-[sr] { color: inherit; } /* Literal.String.Regex */
    blockquote c-[ss] { color: inherit; } /* Literal.String.Symbol */
    blockquote c-[vc] { color: inherit; } /* Name.Variable.Class */
    blockquote c-[vg] { color: inherit; } /* Name.Variable.Global */
    blockquote c-[vi] { color: inherit; } /* Name.Variable.Instance */
    blockquote c-[il] { color: inherit; } /* Literal.Number.Integer.Long */
  </style>
  <meta content="Bikeshed version 6270e4735, updated Tue Aug 6 12:12:30 2024 -0700" name="generator">
  <link href="https://isocpp.org/favicon.ico" rel="icon">
  <meta content="dark light" name="color-scheme">
<style>
hilite  {background-color: #FFFF00; font-weight: bold;}
ins     {background-color: #CCFFCC; text-decoration: underline;}
insarthur  {background-color: #FFFFCC; text-decoration: underline;}
inspablo   {background-color: #DDDDFF; text-decoration: underline;}
del     {background-color: #FFCACA; text-decoration: line-through;}
p       {-moz-hyphens: none; -ms-hyphens: none; -webkit-hyphens: none; hyphens: none;}
p.p     {margin: 0em 2em 0.5em 2em;}
</style>
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="p-name no-ref" id="title">D3418R0<br>Wording for P3160R2 <code class="highlight"><c- n>inplace_vector</c-></code>’s "construct/destroy" alternative</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="profile-and-date"><span class="content">Draft Proposal, <time class="dt-updated" datetime="2024-10-10">2024-10-10</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt class="editor">Author:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:arthur.j.odwyer@gmail.com">Arthur O'Dwyer</a>
     <dt>Audience:
     <dd>LEWG
     <dt>Project:
     <dd>ISO/IEC 14882 Programming Languages — C++, ISO/IEC JTC1/SC22/WG21
     <dt>Draft Revision:
     <dd>15
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>P3160R2 proposes to make <code class="highlight"><c- n>inplace_vector</c-></code> an allocator-aware container.
It offers two design alternatives, nicknamed "uses-allocator" and "construct/destroy,"
and presents wording for the "uses-allocator" alternative.
This paper (P3418) provides wording for the "construct/destroy" alternative.
This paper also provides additional motivation for allocator-awareness.</p>
  </div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#changelog"><span class="secno">1</span> <span class="content">Changelog</span></a>
    <li>
     <a href="#proposal"><span class="secno">2</span> <span class="content">Motivation and proposal</span></a>
     <ol class="toc">
      <li><a href="#freestanding"><span class="secno">2.1</span> <span class="content">Notes on freestanding</span></a>
      <li><a href="#wording-ftm"><span class="secno">2.2</span> <span class="content">Notes on feature-test macros</span></a>
      <li>
       <a href="#pocma"><span class="secno">2.3</span> <span class="content">Notes on allocator propagation</span></a>
       <ol class="toc">
        <li><a href="#pocs-ub"><span class="secno">2.3.1</span> <span class="content">Notes on preconditions</span></a>
       </ol>
      <li><a href="#noexceptness"><span class="secno">2.4</span> <span class="content">Notes on noexceptness</span></a>
     </ol>
    <li><a href="#experience"><span class="secno">3</span> <span class="content">Implementation experience</span></a>
    <li><a href="#acknowledgments"><span class="secno">4</span> <span class="content">Acknowledgments</span></a>
    <li>
     <a href="#wording"><span class="secno">5</span> <span class="content">Proposed wording</span></a>
     <ol class="toc">
      <li><a href="#wording-version.syn"><span class="secno">5.1</span> <span class="content">[version.syn]</span></a>
      <li><a href="#wording-memory.syn"><span class="secno">5.2</span> <span class="content">[memory.syn]</span></a>
      <li><a href="#wording-default.allocator"><span class="secno">5.3</span> <span class="content">[default.allocator]</span></a>
      <li><a href="#wording-container.alloc.reqmts"><span class="secno">5.4</span> <span class="content">[container.alloc.reqmts]</span></a>
      <li><a href="#wording-inplace.vector.syn"><span class="secno">5.5</span> <span class="content">[inplace.vector.syn]</span></a>
      <li><a href="#wording-inplace.vector"><span class="secno">5.6</span> <span class="content">[inplace.vector]</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="changelog"><span class="secno">1. </span><span class="content">Changelog</span><a class="self-link" href="#changelog"></a></h2>
   <ul>
    <li data-md>
     <p>R0:</p>
     <ul>
      <li data-md>
       <p>Wording drafted by Arthur O’Dwyer.</p>
      <li data-md>
       <p>Added discussion of freestanding, <code class="highlight"><c- k>noexcept</c-></code>, and preconditions.</p>
     </ul>
   </ul>
   <h2 class="heading settled" data-level="2" id="proposal"><span class="secno">2. </span><span class="content">Motivation and proposal</span><a class="self-link" href="#proposal"></a></h2>
   <p><a data-link-type="biblio" href="#biblio-p0843" title="inplace_vector">[P0843]</a> introduced <code class="highlight"><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><c- o>></c-></code> to the C++26 working draft. <a data-link-type="biblio" href="#biblio-p3160r1" title="Allocator-aware inplace_vector">[P3160R1]</a> proposes that <code class="highlight"><c- n>inplace_vector</c-></code> should support an allocator parameter, thus allowing it
to use that allocator’s <code class="highlight"><c- n>construct</c-></code> and <code class="highlight"><c- n>destroy</c-></code> members, even though it never needs to <code class="highlight"><c- n>allocate</c-></code>.</p>
   <p>(1) This permits <code class="highlight"><c- n>inplace_vector</c-></code> to interoperate with allocator-extended client code, thus
making it a better drop-in replacement for <code class="highlight"><c- n>vector</c-></code>. For example:</p>
   <table>
    <tbody>
     <tr>
      <td colspan="2">
<pre class="language-cpp highlight"><c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>Ctr</c-><c- p>,</c-> <c- k>class</c-><c- p>...</c-> <c- n>Args</c-><c- o>></c->
<c- n>Ctr</c-> <c- n>f</c-><c- p>(</c-><c- n>Args</c-><c- p>...</c-> <c- n>args</c-><c- p>)</c-> <c- p>{</c->
  <c- k>using</c-> <c- n>Alloc</c-> <c- o>=</c-> <c- k>typename</c-> <c- nc>Ctr</c-><c- o>::</c-><c- n>allocator_type</c-><c- p>;</c->
  <c- n>Alloc</c-> <c- nf>alloc</c-><c- p>(</c-><c- n>args</c-><c- p>...);</c->
  <c- k>return</c-> <c- n>Ctr</c-><c- p>(</c-><c- n>alloc</c-><c- p>);</c->
<c- p>}</c->
</pre>
     <tr>
      <td>
<pre class="highlight"><c- k>auto</c-> <c- n>v1</c-> <c- o>=</c-> <c- n>f</c-><c- o>&lt;</c-><c- n>std</c-><c- o>::</c-><c- n>vector</c-><c- o>&lt;</c-><c- b>int</c-><c- o>>></c-><c- p>();</c->
 
<c- k>auto</c-> <c- n>v3</c-> <c- o>=</c-> <c- n>f</c-><c- o>&lt;</c-><c- n>std</c-><c- o>::</c-><c- n>pmr</c-><c- o>::</c-><c- n>vector</c-><c- o>&lt;</c-><c- b>int</c-><c- o>>></c-><c- p>(</c-><c- o>&amp;</c-><c- n>mr</c-><c- p>);</c->
</pre>
      <td>
<pre class="highlight"><c- k>auto</c-> <c- n>v1</c-> <c- o>=</c-> <c- n>f</c-><c- o>&lt;</c-><c- n>std</c-><c- o>::</c-><c- n>vector</c-><c- o>&lt;</c-><c- b>int</c-><c- o>>></c-><c- p>();</c->
<ins><c- k>auto</c-> <c- n>v2</c-> <c- o>=</c-> <c- n>f</c-><c- o>&lt;</c-><c- n>std</c-><c- o>::</c-><c- n>inplace_vector</c-><c- o>&lt;</c-><c- b>int</c-><c- p>,</c-> <c- mi>3</c-><c- o>>></c-><c- p>();</c-></ins>
<c- k>auto</c-> <c- n>v3</c-> <c- o>=</c-> <c- n>f</c-><c- o>&lt;</c-><c- n>std</c-><c- o>::</c-><c- n>pmr</c-><c- o>::</c-><c- n>vector</c-><c- o>&lt;</c-><c- b>int</c-><c- o>>></c-><c- p>(</c-><c- o>&amp;</c-><c- n>mr</c-><c- p>);</c->
</pre>
   </table>
   <p>(2) This permits using <code class="highlight"><c- n>inplace_vector</c-></code> with a PMR allocator. The vector’s elements are still
allocated directly in-place inside the memory footprint of the <code class="highlight"><c- n>inplace_vector</c-></code> object, but
the elements <em>in turn</em> are constructed with allocator-extended construction.
Without allocator-awareness, the code is cumbersome and error-prone. Notice that neither
snippet below ever allocates from the global heap.</p>
   <table>
    <tbody>
     <tr>
      <td colspan="2">
<pre class="highlight"><c- n>std</c-><c- o>::</c-><c- n>pmr</c-><c- o>::</c-><c- n>set_default_resource</c-><c- p>(</c-><c- k>nullptr</c-><c- p>);</c->
<c- b>char</c-> <c- n>buf</c-><c- p>[</c-><c- mi>10</c->’<c- mo>000</c-><c- p>];</c->
<c- n>std</c-><c- o>::</c-><c- n>pmr</c-><c- o>::</c-><c- n>monotonic_buffer_resource</c-> <c- nf>mr</c-><c- p>(</c-><c- n>buf</c-><c- p>,</c-> <c- mi>10</c->’<c- mo>000</c-><c- p>);</c->
</pre>
     <tr>
      <td>
<pre class="highlight"><c- n>std</c-><c- o>::</c-><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>std</c-><c- o>::</c-><c- n>pmr</c-><c- o>::</c-><c- n>string</c-><c- p>,</c-> <c- mi>5</c-><c- o>></c-> <c- n>pv</c-><c- p>;</c->
<c- k>const</c-> <c- b>char</c-> <c- o>*</c-><c- n>contents</c-><c- p>[]</c-> <c- o>=</c-> <c- p>{</c->
  <c- s>"A string so long that it requires heap allocation"</c-><c- p>,</c->
  <c- s>"A short string"</c-><c- p>,</c->
<c- p>};</c->
<del><c- k>for</c-> <c- p>(</c-><c- k>const</c-> <c- b>char</c-> <c- o>*</c-><c- n>p</c-> <c- o>:</c-> <c- n>contents</c-><c- p>)</c-> <c- p>{</c-></del>
  <del><c- n>pv</c-><c- p>.</c-><c- n>emplace_back</c-><c- p>(</c-><c- n>p</c-><c- p>,</c-> <c- o>&amp;</c-><c- n>mr</c-><c- p>);</c-></del>
<del><c- p>}</c-></del>
<c- n>pv</c-><c- p>.</c-><c- n>emplace_back</c-><c- p>(</c-><c- s>"A string so long that it requires heap allocation"</c-><c- p>,</c-> <del><c- o>&amp;</c-><c- n>mr</c-></del><c- p>);</c->
</pre>
      <td>
<pre class="highlight"><c- n>std</c-><c- o>::</c-><c- n>pmr</c-><c- o>::</c-><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>std</c-><c- o>::</c-><c- n>pmr</c-><c- o>::</c-><c- n>string</c-><c- p>,</c-> <c- mi>5</c-><c- o>></c-> <c- n>pv</c-><c- p>(</c-><c- o>&amp;</c-><c- n>mr</c-><c- p>);</c->
<c- k>const</c-> <c- b>char</c-> <c- o>*</c-><c- n>contents</c-><c- p>[]</c-> <c- o>=</c-> <c- p>{</c->
  <c- s>"A string so long that it requires heap allocation"</c-><c- p>,</c->
  <c- s>"A short string"</c-><c- p>,</c->
<c- p>};</c->
<ins><c- n>pv</c-><c- p>.</c-><c- n>insert</c-><c- p>(</c-><c- n>contents</c-><c- p>.</c-><c- n>begin</c-><c- p>(),</c-> <c- n>contents</c-><c- p>.</c-><c- n>end</c-><c- p>());</c-></ins>
<c- n>pv</c-><c- p>.</c-><c- n>emplace_back</c-><c- p>(</c-><c- s>"A string so long that it requires heap allocation"</c-><c- p>);</c->
</pre>
   </table>
   <p>(3) This permits using <code class="highlight"><c- n>inplace_vector</c-></code> with a Boost.Interprocess allocator,
with the same benefits as the PMR example above: less code to write, and
fewer chances to write bugs by accident.
See <a href="https://quuxplusone.github.io/blog/2024/08/23/boost-interprocess-tutorial/">"Boost.Interprocess, and <code class="highlight"><c- n>sg14</c-><c- o>::</c-><c- n>inplace_vector</c-></code>"</a> (2024-08-23).</p>
   <table>
    <tbody>
     <tr>
      <td colspan="2">
<pre class="highlight"><c- k>namespace</c-> <c- nn>bip</c-> <c- o>=</c-> <c- nn>boost</c-><c- o>::</c-><c- nn>interprocess</c-><c- p>;</c->
<c- k>namespace</c-> <c- nn>shm</c-> <c- p>{</c->
  <c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>T</c-><c- o>></c-> <c- k>using</c-> <c- n>allocator</c-> <c- o>=</c-> <c- n>std</c-><c- o>::</c-><c- n>scoped_allocator_adaptor</c-><c- o>&lt;</c-><c- n>bip</c-><c- o>::</c-><c- n>allocator</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>bip</c-><c- o>::</c-><c- n>managed_shared_memory</c-><c- o>::</c-><c- n>segment_manager</c-><c- o>>></c-><c- p>;</c->
  <c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>T</c-><c- o>></c-> <c- k>using</c-> <c- n>vector</c-> <c- o>=</c-> <c- n>std</c-><c- o>::</c-><c- n>vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>shm</c-><c- o>::</c-><c- n>allocator</c-><c- o>&lt;</c-><c- n>T</c-><c- o>>></c-><c- p>;</c->
  <c- k>using</c-> <c- n>string</c-> <c- o>=</c-> <c- n>boost</c-><c- o>::</c-><c- n>container</c-><c- o>::</c-><c- n>basic_string</c-><c- o>&lt;</c-><c- b>char</c-><c- p>,</c-> <c- n>std</c-><c- o>::</c-><c- n>char_traits</c-><c- o>&lt;</c-><c- b>char</c-><c- o>></c-><c- p>,</c-> <c- n>shm</c-><c- o>::</c-><c- n>allocator</c-><c- o>&lt;</c-><c- b>char</c-><c- o>>></c-><c- p>;</c->
<c- p>}</c->
<c- k>auto</c-> <c- n>segment</c-> <c- o>=</c-> <c- n>bip</c-><c- o>::</c-><c- n>managed_shared_memory</c-><c- p>(</c-><c- n>bip</c-><c- o>::</c-><c- n>create_only</c-><c- p>,</c-> <c- n>SHM_SEGMENT_NAME</c-><c- p>,</c-> <c- mi>10</c->’<c- mo>000</c-><c- p>);</c->
<c- k>auto</c-> <c- n>alloc</c-> <c- o>=</c-> <c- n>shm</c-><c- o>::</c-><c- n>allocator</c-><c- o>&lt;</c-><c- b>int</c-><c- o>></c-><c- p>(</c-><c- n>segment</c-><c- p>.</c-><c- n>get_segment_manager</c-><c- p>());</c->
</pre>
     <tr>
      <td>
<pre class="highlight"><c- k>namespace</c-> <c- nn>shm</c-> <c- p>{</c->
  <c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>T</c-><c- o>></c->
  <c- k>using</c-> <c- n>vector</c-> <c- o>=</c-> <c- n>std</c-><c- o>::</c-><c- n>vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>shm</c-><c- o>::</c-><c- n>allocator</c-><c- o>&lt;</c-><c- n>T</c-><c- o>>></c-><c- p>;</c->
<c- p>}</c->
<c- k>using</c-> <c- n>VecOfStrings</c-> <c- o>=</c-> <c- n>shm</c-><c- o>::</c-><c- n>vector</c-><c- o>&lt;</c-><c- n>shm</c-><c- o>::</c-><c- n>string</c-><c- o>></c-><c- p>;</c->
<c- k>auto</c-> <c- o>*</c-><c- n>p</c-> <c- o>=</c-> <c- n>segment</c-><c- p>.</c-><c- n>construct</c-><c- o>&lt;</c-><c- n>VecOfStrings</c-><c- o>></c-><c- p>(</c-><c- s>"S"</c-><c- p>)(</c-><c- n>argv</c-><c- o>+</c-><c- mi>2</c-><c- p>,</c-> <c- n>argv</c-><c- o>+</c-><c- n>argc</c-><c- p>,</c-> <c- n>alloc</c-><c- p>);</c->
</pre>
      <td>
<pre class="highlight"><c- k>namespace</c-> <c- nn>shm</c-> <c- p>{</c->
  <c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>T</c-><c- p>,</c-> <c- b>size_t</c-> <c- n>N</c-><c- o>></c->
  <c- k>using</c-> <c- n>inplace_vector</c-> <c- o>=</c-> <c- n>std</c-><c- o>::</c-><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><c- p>,</c-> <c- n>shm</c-><c- o>::</c-><c- n>allocator</c-><c- o>&lt;</c-><c- n>T</c-><c- o>>></c-><c- p>;</c->
<c- p>}</c->
<c- k>using</c-> <c- n>IPVOfStrings</c-> <c- o>=</c-> <c- n>shm</c-><c- o>::</c-><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>shm</c-><c- o>::</c-><c- n>string</c-><c- p>,</c-> <c- mi>5</c-><c- o>></c-><c- p>;</c->
<c- k>auto</c-> <c- o>*</c-><c- n>p</c-> <c- o>=</c-> <c- n>segment</c-><c- p>.</c-><c- n>construct</c-><c- o>&lt;</c-><c- n>IPVOfStrings</c-><c- o>></c-><c- p>(</c-><c- s>"S"</c-><c- p>)(</c-><c- n>argv</c-><c- o>+</c-><c- mi>2</c-><c- p>,</c-> <c- n>argv</c-><c- o>+</c-><c- n>argc</c-><c- p>,</c-> <c- n>alloc</c-><c- p>);</c->
</pre>
     <tr>
      <td>
<pre class="highlight"><c- k>using</c-> <c- n>IPVOfStrings</c-> <c- o>=</c-> <del><c- n>std</c-></del><c- o>::</c-><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>shm</c-><c- o>::</c-><c- n>string</c-><c- p>,</c-> <c- mi>5</c-><c- o>></c-><c- p>;</c->
<del><c- k>auto</c-> <c- o>*</c-><c- n>p</c-> <c- o>=</c-> <c- n>segment</c-><c- p>.</c-><c- n>construct</c-><c- o>&lt;</c-><c- n>IPVOfStrings</c-><c- o>></c-><c- p>(</c-><c- s>"S"</c-><c- p>)();</c-></del>
<del><c- k>for</c-> <c- p>(</c-><c- b>int</c-> <c- n>i</c-> <c- o>=</c-> <c- mi>2</c-><c- p>;</c-> <c- n>i</c-> <c- o>&lt;</c-> <c- n>argc</c-><c- p>;</c-> <c- o>++</c-><c- n>i</c-><c- p>)</c-> <c- p>{</c-></del>
  <del><c- n>p</c-><c- o>-></c-><c- n>emplace_back</c-><c- p>(</c-><c- n>argv</c-><c- p>[</c-><c- n>i</c-><c- p>],</c-> <c- n>alloc</c-><c- p>);</c-></del>
<del><c- p>}</c-></del>
</pre>
      <td>
<pre class="highlight"><c- k>using</c-> <c- n>IPVOfStrings</c-> <c- o>=</c-> <ins><c- n>shm</c-></ins><c- o>::</c-><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>shm</c-><c- o>::</c-><c- n>string</c-><c- p>,</c-> <c- mi>5</c-><c- o>></c-><c- p>;</c->
<ins><c- k>auto</c-> <c- o>*</c-><c- n>p</c-> <c- o>=</c-> <c- n>segment</c-><c- p>.</c-><c- n>construct</c-><c- o>&lt;</c-><c- n>IPVOfStrings</c-><c- o>></c-><c- p>(</c-><c- s>"S"</c-><c- p>)(</c-><c- n>argv</c-><c- o>+</c-><c- mi>2</c-><c- p>,</c-> <c- n>argv</c-><c- o>+</c-><c- n>argc</c-><c- p>,</c-> <c- n>alloc</c-><c- p>);</c-></ins>
 
 
 
</pre>
   </table>
   <p>(4) This gives the programmer control over the <code class="highlight"><c- n>size_type</c-></code> and <code class="highlight"><c- n>difference_type</c-></code> members
of <code class="highlight"><c- n>inplace_vector</c-></code>, permitting a predictably smaller (or larger) memory footprint.
Now, STL vendors <em>could</em> implement memory-footprint optimizations to store the <code class="highlight"><c- n>size</c-></code> member
in fewer bits when <code class="highlight"><c- n>N</c-></code> was small; but we have seen from our experience with <code class="highlight"><c- n>variant</c-></code> that vendors do not do such optimizations in practice, and then get locked out of them
forever by ABI. Giving control to the programmer is more general <em>and</em> reduces the
STL vendor’s own workload. (<a href="https://godbolt.org/z/78rf9dvnz">Godbolt.</a>)</p>
   <table>
    <tbody>
     <tr>
      <td>
<pre class="highlight">       <br>       <br>       <br>       <br>       <br>       <br>       <br>       <br>       <br>       <br>
<c- k>static_assert</c-><c- p>(</c-><c- k>sizeof</c-><c- p>(</c-><c- n>std</c-><c- o>::</c-><c- n>inplace_vector</c-><c- o>&lt;</c-><c- b>char</c-><c- p>,</c-> <c- mi>3</c-><c- o>></c-><c- p>)</c-> <c- o>==</c-> <c- mi>16</c-><c- p>);</c->
</pre>
      <td>
<pre class="highlight"><c- k>namespace</c-> <c- nn>Tiny</c-> <c- p>{</c->
  <c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>T</c-><c- o>></c->
  <c- k>struct</c-> <c- nc>Alloc</c-> <c- p>{</c->
    <c- k>using</c-> <c- n>value_type</c-> <c- o>=</c-> <c- n>T</c-><c- p>;</c->
    <c- k>using</c-> <c- n>size_type</c-> <c- o>=</c-> <c- b>uint8_t</c-><c- p>;</c->
    <c- k>static</c-> <c- n>T</c-><c- o>*</c-> <c- nf>allocate</c-><c- p>(</c-><c- b>size_t</c-><c- p>)</c-> <c- p>{</c-> <c- n>assert</c-><c- p>(</c->false<c- p>);</c-> <c- p>}</c->
    <c- k>static</c-> <c- b>void</c-> <c- nf>deallocate</c-><c- p>(</c-><c- n>T</c-><c- o>*</c-><c- p>)</c-> <c- p>{</c-> <c- n>assert</c-><c- p>(</c->false<c- p>);</c-> <c- p>}</c->
  <c- p>};</c->
  <c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>T</c-><c- p>,</c-> <c- b>size_t</c-> <c- n>N</c-><c- o>></c->
  <c- k>using</c-> <c- n>inplace_vector</c-> <c- o>=</c-> <c- n>std</c-><c- o>::</c-><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><c- p>,</c-> <c- n>Tiny</c-><c- o>::</c-><c- n>Alloc</c-><c- o>&lt;</c-><c- n>T</c-><c- o>>></c-><c- p>;</c->
<c- p>}</c->
<c- k>static_assert</c-><c- p>(</c-><c- k>sizeof</c-><c- p>(</c-><c- n>std</c-><c- o>::</c-><c- n>inplace_vector</c-><c- o>&lt;</c-><c- b>char</c-><c- p>,</c-> <c- mi>3</c-><c- o>></c-><c- p>)</c-> <c- o>==</c-> <c- mi>16</c-><c- p>);</c->
<ins><c- k>static_assert</c-><c- p>(</c-><c- k>sizeof</c-><c- p>(</c-><c- n>Tiny</c-><c- o>::</c-><c- n>inplace_vector</c-><c- o>&lt;</c-><c- b>char</c-><c- p>,</c-> <c- mi>3</c-><c- o>></c-><c- p>)</c-> <c- o>==</c-> <c- mi>4</c-><c- p>);</c-></ins>
</pre>
   </table>
   <p class="note" role="note"><span class="marker">Note:</span> Mital Ashok’s draft implementation of <code class="highlight"><c- n>inplace_vector</c-></code> for libc++ (<a data-link-type="biblio" href="#biblio-mital" title="[libc++] Implement std::inplace_vector<T, N>">[Mital]</a>) does store the <code class="highlight"><c- n>size</c-></code> in a reduced footprint,
based on the absolute value of <code class="highlight"><c- n>N</c-></code>. That is, we have "reduced the STL vendor’s workload" in an area where libc++
has already done that work! libc++ also uses a reduced footprint for <code class="highlight"><c- n>variant</c-></code>’s index in its "unstable ABI" mode.
This proposal doesn’t forbid an implementation like Mital’s; libc++ is free to continue using a reduced footprint even after this proposal.
But certainly argument (4) in favor is weak: the space-saving is superfluous (in libc++'s case) and non-portable
(since different STL vendors may continue to choose different types for the <code class="highlight"><c- n>size</c-></code> data member regardless of <code class="highlight"><c- n>Allocator</c-><c- o>::</c-><c- n>size_type</c-></code>). From the user-programmer’s point of view, it matters only that there is <em>some</em> way to
store the <code class="highlight"><c- n>size</c-></code> member in fewer than eight bytes: either every STL vendor commits to store <code class="highlight"><c- n>size</c-></code> in the minimum possible number of bytes,
or this proposal is adopted and every STL vendor commits to store <code class="highlight"><c- n>size</c-></code> in a type no larger than <code class="highlight"><c- n>Allocator</c-><c- o>::</c-><c- n>size_type</c-></code>.</p>
   <h3 class="heading settled" data-level="2.1" id="freestanding"><span class="secno">2.1. </span><span class="content">Notes on freestanding</span><a class="self-link" href="#freestanding"></a></h3>
   <p><code class="highlight"><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><c- o>></c-></code> is freestanding. We don’t propose to change that.
But now it’s a synonym for <code class="highlight"><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><c- p>,</c-> <c- n>allocator</c-><c- o>&lt;</c-><c- n>T</c-><c- o>>></c-></code>.
So, <code class="highlight"><c- n>allocator</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-></code> needs to become freestanding.
Freestanding implementations lack a heap, so <code class="highlight"><c- n>allocator</c-><c- o>&lt;</c-><c- n>T</c-><c- o>>::</c-><c- n>allocate</c-></code> becomes
a <i>freestanding-deleted</i> member function (<a href="https://eel.is/c++draft/library#freestanding.item-3">[freestanding.item]/3</a>),
which means that it may be <code class="highlight"><c- o>=</c-><c- k>delete</c-></code>’d if not provided by a freestanding implementation.
This is fine because <code class="highlight"><c- n>inplace_vector</c-></code> doesn’t use <code class="highlight"><c- n>allocate</c-></code> or <code class="highlight"><c- n>deallocate</c-></code>.</p>
   <p><code class="highlight"><c- n>allocator_traits</c-></code> is already freestanding in C++23, thanks to Ben Craig’s <a data-link-type="biblio" href="#biblio-p1642" title="Freestanding Library: Easy [utilities], [ranges], and [iterators]">[P1642]</a>.
But it is UB to instantiate <code class="highlight"><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>A</c-><c- o>></c-></code> unless <code class="highlight"><c- n>A</c-></code> meets
the allocator requirements (<a href="https://eel.is/c++draft/library#allocator.requirements.general-3.sentence-2">[allocator.requirements]/3</a>),
and the allocator requirements require that <code class="highlight"><c- n>A</c-><c- o>::</c-><c- n>allocate</c-></code> must be present!</p>
   <p>We could solve this conundrum in any of the following ways:</p>
   <ul>
    <li data-md>
     <p>Declare by fiat: "All specializations of <code class="highlight"><c- n>allocator</c-></code> meet the allocator requirements,
regardless of whether they provide <code class="highlight"><c- n>allocate</c-></code> and <code class="highlight"><c- n>deallocate</c-></code> member functions."
(But what about program-defined types that derive from <code class="highlight"><c- n>allocator</c-></code>?)</p>
    <li data-md>
     <p>Change the effects of <code class="highlight"><c- n>allocator</c-><c- o>&lt;</c-><c- n>T</c-><c- o>>::</c-><c- n>allocate</c-></code> to permit it to Do Something Else on
freestanding implementations. (But this makes it untrustworthy. This is a bad idea.)</p>
    <li data-md>
     <p>Change the allocator requirements to permit <code class="highlight"><c- n>allocate</c-></code> and <code class="highlight"><c- n>deallocate</c-></code> to be missing
on freestanding implementations (only).</p>
   </ul>
   <p>Arthur drafted wording for the third option, but Pablo suggests taking a variation on
that approach that basically anticipates Ben Craig’s <a data-link-type="biblio" href="#biblio-p3295" title="Freestanding constexpr containers and constexpr exception types">[P3295]</a> — marking <code class="highlight"><c- n>allocate</c-></code> and <code class="highlight"><c- n>deallocate</c-></code> with a new "freestanding-consteval" category — except that instead of copying large
portions of <a data-link-type="biblio" href="#biblio-p3295" title="Freestanding constexpr containers and constexpr exception types">[P3295]</a> into this paper, we simply achieve the same effect with a <i>Note</i>.
If <a data-link-type="biblio" href="#biblio-p3295" title="Freestanding constexpr containers and constexpr exception types">[P3295]</a> is adopted, we can easily update our <i>Note</i> to use the <i>freestanding-consteval</i> markup instead.</p>
   <h3 class="heading settled" data-level="2.2" id="wording-ftm"><span class="secno">2.2. </span><span class="content">Notes on feature-test macros</span><a class="self-link" href="#wording-ftm"></a></h3>
   <p>For the non-freestanding case, it’s easy: vendors just bump <code class="highlight"><c- n>__cpp_lib_inplace_vector</c-></code> and are done.
This subsection exists only because the freestanding situation is messier than that,
because we are making <code class="highlight"><c- n>allocator</c-></code> partially freestanding.</p>
   <p>This situation falls under <a data-link-type="biblio" href="#biblio-p2198" title="Freestanding Feature-Test Macros and Implementation-Defined Extensions">[P2198]</a>'s subsection labeled "Detect C++20 (or older) feature that is now partially required in freestanding."
Ben Craig, in email, suggests this four-macro design.</p>
   <table>
    <tbody>
     <tr>
      <th>Macro
      <th>Meaning
     <tr>
      <td><code class="highlight"><c- n>__cpp_lib_inplace_vector</c-></code> (exists)
      <td>If <code class="highlight"><c- mf>202406L</c-></code>, P0843 is fully implemented; if <code class="highlight"><c- n>YYYYMML</c-></code>, allocator-aware <code class="highlight"><c- n>inplace_vector</c-></code> is fully implemented
     <tr>
      <td><code class="highlight"><c- n>__cpp_lib_freestanding_inplace_vector</c-></code> (new)
      <td>At least the freestanding subset of <code class="highlight"><c- n>inplace_vector</c-></code> is available (but e.g. the <i>freestanding-deleted</i> iterator-pair constructor might be <code class="highlight"><c- o>=</c-><c- k>delete</c-></code>d)
     <tr>
      <td><code class="highlight"><c- n>__cpp_lib_allocator</c-></code> (new)
      <td><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>allocator</c-></code> is fully implemented (including <code class="highlight"><c- n>allocate</c-></code> and <code class="highlight"><c- n>deallocate</c-></code>)
     <tr>
      <td><code class="highlight"><c- n>__cpp_lib_freestanding_allocator</c-></code> (new)
      <td>At least the freestanding subset of <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>allocator</c-></code> is available (but e.g. <code class="highlight"><c- n>allocate</c-></code> might be <code class="highlight"><c- o>=</c-><c- k>delete</c-></code>d)
   </table>
   <p class="note" role="note"><span class="marker">Note:</span> The freestanding-deleted members, such as the
iterator-pair constructor, are freestanding-deleted not because they <em>allocate</em> (they don’t) but because they <em>throw.</em></p>
   <p>The existing feature-test macros related to allocator support on freestanding are C++23’s <code class="highlight"><c- n>__cpp_lib_allocate_at_least</c-></code> (the last major
change to <code class="highlight"><c- n>allocator</c-></code>/<code class="highlight"><c- n>allocator_traits</c-></code>), C++26’s <code class="highlight"><c- n>__cpp_lib_freestanding_memory</c-></code>, and C++26’s <code class="highlight"><c- n>__cpp_lib_freestanding_operator_new</c-></code> (effectively indicates whether heap allocation is available).</p>
   <h3 class="heading settled" data-level="2.3" id="pocma"><span class="secno">2.3. </span><span class="content">Notes on allocator propagation</span><a class="self-link" href="#pocma"></a></h3>
   <p>The STL uses allocators both for allocation/deallocation and for construction/destruction. So the happy path
for STL containers is when the allocator sticks alongside both the value of the data pointer (which must be deallocated)
and the lifetimes of the element objects (which must be destroyed).</p>
   <p>Containers that store their elements on the heap want POCCA/POCMA/POCS to be <code class="highlight">true</code>: they’ll
simply swap the allocator alongside the data pointer.
When POCCA/POCMA/POCS is <code class="highlight">false</code>, those containers are unhappy: their constant-time move operations
become linear-time and throwing, and their <code class="highlight"><c- n>swap</c-></code> (which refuses to become throwing) requires that the two
allocators be equal, on pain of UB.</p>
   <p><code class="highlight"><c- n>inplace_vector</c-></code> wants POCCA/POCMA/POCS to be <code class="highlight">false</code>!
Each element of <code class="highlight"><c- n>v1</c-></code> is itself an object that was constructed via <code class="highlight"><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>A</c-><c- o>>::</c-><c- n>construct</c-><c- p>(</c-><c- n>a1</c-><c- p>,</c-> <c- p>...)</c-></code> and must eventually be destroyed by <code class="highlight"><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>A</c-><c- o>>::</c-><c- n>destroy</c-><c- p>(</c-><c- n>a1</c-><c- p>,</c-> <c- p>...)</c-></code>. Therefore, as long as <code class="highlight"><c- n>v1</c-></code> has
any elements, <code class="highlight"><c- n>v1</c-></code> must never forget about <code class="highlight"><c- n>a1</c-></code>. When POCCA/POCMA/POCS is <code class="highlight">false</code>, this is easy and natural.
When POCCA/POCMA/POCS is <code class="highlight">true</code>, <code class="highlight"><c- n>inplace_vector</c-></code> is unhappy: its copy-assignment, move-assignment, and <code class="highlight"><c- n>swap</c-></code> require for correctness that the two allocators be equal, on pain of UB.</p>
   <p>For an example involving <code class="highlight"><c- n>CountingAlloc</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-></code>, see <a href="https://godbolt.org/z/v9xvEPdaG">this Godbolt</a>.</p>
   <table>
    <tbody>
     <tr>
      <th>Operation
      <th>Heap-storage <code class="highlight"><c- n>vector</c-></code>
      <th><code class="highlight"><c- n>inplace_vector</c-></code>
     <tr>
      <th>Move construction
      <td> Non-allocating and O(1) 
      <td> Non-allocating and O(n) 
     <tr>
      <th>Copy construction
      <td> O(n) 
      <td> non-allocating and O(n) 
     <tr>
      <th>Move assignment
      <td> Non-allocating and O(1) by default.
  If <code class="highlight"><c- o>!</c-><c- n>POCMA</c-></code> and <code class="highlight"><c- o>!</c-><c- n>is_always_equal</c-></code>, it becomes allocating and O(n) 
      <td> Non-allocating and O(n).
  If <code class="highlight"><c- n>POCMA</c-></code> and <code class="highlight"><c- o>!</c-><c- n>is_always_equal</c-></code>, it may have UB 
     <tr>
      <th>Copy assignment
      <td> O(n) 
      <td> Non-allocating and O(n).
  If <code class="highlight"><c- n>POCCA</c-></code> and <code class="highlight"><c- o>!</c-><c- n>is_always_equal</c-></code>, it may have UB 
     <tr>
      <th>Swap
      <td> Non-allocating, <code class="highlight"><c- k>noexcept</c-></code>, and O(1).
  If <code class="highlight"><c- o>!</c-><c- n>POCS</c-></code> and <code class="highlight"><c- o>!</c-><c- n>is_always_equal</c-></code>, it may have UB 
      <td> Non-allocating and O(n).
  If <code class="highlight"><c- n>POCS</c-></code> and <code class="highlight"><c- o>!</c-><c- n>is_always_equal</c-></code>, it may have UB 
   </table>
   <p>We follow the Lakos rule and make each special member function <code class="highlight"><c- k>noexcept</c-><c- p>(</c->false<c- p>)</c-></code> whenever
it may have UB.</p>
   <p>Theoretically, we could special-case the preconditions to make it <em>not</em> UB to swap/assign two vectors
with unequal propagating allocators <em>if</em> either vector is empty — because then
there’s no insurmountable physical difficulty with <code class="highlight"><c- n>CountingAlloc</c-></code>.
However, that idea would complicate the spec, make more work for vendors, and make the UB condition
less legible to users. So we don’t do that.</p>
   <h4 class="heading settled" data-level="2.3.1" id="pocs-ub"><span class="secno">2.3.1. </span><span class="content">Notes on preconditions</span><a class="self-link" href="#pocs-ub"></a></h4>
   <p>For <code class="highlight"><c- n>swap</c-></code> in particular, even if we assume the "construct/destroy" model instead of the "uses-allocator" model,
Arthur and Pablo disagree as to what would be the appropriate precondition w.r.t. allocator equality.
Arthur’s proposed wording is as follows.
The first part of the <i>Precondition</i> element is modeled on <a href="https://eel.is/c++draft/alg.swap#2">[alg.swap]/2</a> (as used by <a href="https://eel.is/c++draft/array#members-4"><code class="highlight"><c- n>array</c-><c- o>::</c-><c- n>swap</c-></code></a>), and the second part (the part
dealing with allocators) is modeled
on <a href="https://eel.is/c++draft/container.requirements#container.reqmts-65">[container.reqmts]/65</a>.</p>
   <p><small></small></p>
   <blockquote>
    <p></p>
    <small> <p></p><pre class="highlight"><ins><c- k>constexpr</c-> <c- b>void</c-> <c- nf>swap</c-><c- p>(</c-><c- n>inplace_vector</c-><c- o>&amp;</c-> <c- n>x</c-><c- p>)</c-> <c- k>noexcept</c-><c- p>(</c-><i><c- n>see</c-> <c- n>below</c-></i><c- p>);</c-></ins>
</pre> <p class="p"><ins>x․ <em>Preconditions:</em> Let <em>M</em> be <code class="highlight"><c- n>min</c-><c- p>(</c-><c- n>size</c-><c- p>(),</c-> <c- n>x</c-><c- p>.</c-><c- n>size</c-><c- p>())</c-></code>.
For each non-negative integer <em>n</em> &lt; <em>M</em>, <code class="highlight"><c- p>(</c-><c- o>*</c-><c- k>this</c-><c- p>)[</c-><c- n>n</c-><c- p>]</c-></code> is swappable with ([swappable.requirements]) <code class="highlight"><c- n>x</c-><c- p>[</c-><c- n>n</c-><c- p>]</c-></code>.
If <code class="highlight"><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>allocator_type</c-><c- o>>::</c-><c- n>propagate_on_container_swap</c-><c- o>::</c-><c- n>value</c-></code> is <code class="highlight">true</code>, then <code class="highlight"><c- n>allocator_type</c-></code> meets the <i><code class="highlight"><c- n>Cpp17Swappable</c-></code></i> requirements and <code class="highlight"><c- n>get_allocator</c-><c- p>()</c-> <c- o>==</c-> <c- n>x</c-><c- p>.</c-><c- n>get_allocator</c-><c- p>()</c-></code>.</ins> </p><p class="p"><ins>x․ <em>Effects:</em></ins> [...] </p></small>
   </blockquote>
   <p>Pablo would prefer something more like this:</p>
   <p><small></small></p>
   <blockquote>
    <p></p>
    <small> <p></p><pre class="highlight"><ins><c- k>constexpr</c-> <c- b>void</c-> <c- nf>swap</c-><c- p>(</c-><c- n>inplace_vector</c-><c- o>&amp;</c-> <c- n>x</c-><c- p>)</c-> <c- k>noexcept</c-><c- p>(</c-><i><c- n>see</c-> <c- n>below</c-></i><c- p>);</c-></ins>
</pre> <p class="p"><ins>x․ <em>Preconditions:</em> Let <code class="highlight"><c- n>a1</c-></code> and <code class="highlight"><c- n>a2</c-></code> be <code class="highlight"><c- n>get_allocator</c-><c- p>()</c-></code> and <code class="highlight"><c- n>x</c-><c- p>.</c-><c- n>get_allocator</c-><c- p>()</c-></code>, respectively; <code class="highlight"><c- n>p1</c-></code> and <code class="highlight"><c- n>p2</c-></code> be pointers of type <code class="highlight"><c- n>T</c-><c- o>*</c-></code> to
storage suitable to hold an object of type <code class="highlight"><c- n>T</c-></code>;
and <code class="highlight"><c- n>args1</c-></code> and <code class="highlight"><c- n>args2</c-></code> be function parameter packs such that <code class="highlight"><c- n>T</c-><c- p>(</c-><c- n>args1</c-><c- p>...)</c-></code> and <code class="highlight"><c- n>T</c-><c- p>(</c-><c- n>args2</c-><c- p>...)</c-></code> are well-formed and well-defined.
The following shall be well-formed and well-defined:</ins> </p><div style="margin: 0.5em 2em;"><pre class="highlight"><ins><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>allocator_type</c-><c- o>>::</c-><c- n>construct</c-><c- p>(</c-><c- n>a1</c-><c- p>,</c-> <c- n>p1</c-><c- p>,</c-> <c- n>args1</c-><c- p>...);</c-></ins>
<ins><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>allocator_type</c-><c- o>>::</c-><c- n>construct</c-><c- p>(</c-><c- n>a2</c-><c- p>,</c-> <c- n>p2</c-><c- p>,</c-> <c- n>args2</c-><c- p>...);</c-></ins>
<ins><c- k>using</c-> <c- n>std</c-><c- o>::</c-><c- n>swap</c-><c- p>;</c-></ins>
<ins><c- n>swap</c-><c- p>(</c-><c- o>*</c-><c- n>p1</c-><c- p>,</c-> <c- o>*</c-><c- n>p2</c-><c- p>);</c-></ins>
<ins><c- k>if</c-> <c- k>constexpr</c-> <c- p>(</c-><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>allocator_type</c-><c- o>>::</c-><c- n>propagate_on_container_swap</c-><c- o>::</c-><c- n>value</c-><c- p>)</c-></ins>
  <ins><c- n>swap</c-><c- p>(</c-><c- n>a1</c-><c- p>,</c-> <c- n>a2</c-><c- p>);</c-></ins>
<ins><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>allocator_type</c-><c- o>>::</c-><c- n>destroy</c-><c- p>(</c-><c- n>a1</c-><c- p>,</c-> <c- n>p1</c-><c- p>);</c-></ins>
<ins><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>allocator_type</c-><c- o>>::</c-><c- n>destroy</c-><c- p>(</c-><c- n>a2</c-><c- p>,</c-> <c- n>p2</c-><c- p>);</c-></ins>
</pre></div> <p class="p"><ins>[<i>Note:</i> In other words, when <code class="highlight"><c- n>propagate_on_container_swap</c-><c- o>::</c-><c- n>value</c-></code> is <code class="highlight">false</code>, it must be valid to swap the individual elements even when the allocators do not compare equal.
Conversely, when <code class="highlight"><c- n>propagate_on_container_swap</c-><c- o>::</c-><c- n>value</c-></code> is <code class="highlight">true</code>, it must be valid to destroy the swapped elements using the swapped allocators, even though the call to <code class="highlight"><c- n>destroy</c-></code> uses a different allocator than the corresponding call to <code class="highlight"><c- n>construct</c-></code>. <i>—end note</i>]</ins> </p><p class="p"><ins>x․ <em>Effects:</em></ins> [...] </p></small>
   </blockquote>
   <p>We encourage discussion as to which direction LEWG prefers.</p>
   <p>Arthur’s precondition has the benefit of being checkable at runtime,
because it involves the values of computable expressions like <code class="highlight"><c- n>get_allocator</c-><c- p>()</c-> <c- o>==</c-> <c- n>x</c-><c- p>.</c-><c- n>get_allocator</c-><c- p>()</c-></code>.
An implementation would be allowed to assert-fail if the precondition was violated, using something like
SG14’s <code class="highlight"><c- n>SG14_INPLACE_VECTOR_ASSERT_PRECONDITION</c-></code> macro or libc++'s <code class="highlight"><c- n>_LIBCPP_ASSERT_COMPATIBLE_ALLOCATOR</c-></code> macro.</p>
   <p>Pablo’s precondition is not checkable at runtime, but has the benefit of being looser: it permits the user to swap <code class="highlight"><c- n>inplace_vector</c-></code>s with allocators that are "unequal, yet functionally interchangeable." The <code class="highlight"><c- n>inplace_vector</c-></code> implementation would be forbidden to assert-fail inside <code class="highlight"><c- k>operator</c-><c- o>=</c-></code> or <code class="highlight"><c- n>swap</c-></code>.</p>
   <p>It is not possible to violate either precondition with <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>allocator</c-></code> (which is always equal) nor with <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>pmr</c-><c- o>::</c-><c- n>polymorphic_allocator</c-></code> (which doesn’t propagate).</p>
   <p><a data-link-type="biblio" href="#biblio-lwg4151" title="Precondition of inplace_vector::swap">[LWG4151]</a> is related: <code class="highlight"><c- n>inplace_vector</c-><c- o>::</c-><c- n>swap</c-></code> is already missing a precondition today.
Both of the above-proposed preconditions are supersets of LWG4151’s proposed resolution.</p>
   <h3 class="heading settled" data-level="2.4" id="noexceptness"><span class="secno">2.4. </span><span class="content">Notes on noexceptness</span><a class="self-link" href="#noexceptness"></a></h3>
   <p>We expect that in practice, STL vendors will take approximately the same approach to noexceptness
which <code class="highlight"><c- n>sg14</c-><c- o>::</c-><c- n>inplace_vector</c-></code> has taken. This approach is:</p>
<pre class="language-cpp highlight"><c- k>static</c-> <c- k>constexpr</c-> <c- b>bool</c-> <c- n>CopyCtorIsNoexcept</c-> <c- o>=</c->
    <c- p>((</c-><c- n>std</c-><c- o>::</c-><c- n>is_nothrow_copy_constructible_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- o>&amp;&amp;</c->
      <c- n>sg14</c-><c- o>::</c-><c- n>aaipv</c-><c- o>::</c-><c- n>has_trivial_construct</c-><c- o>&lt;</c-><c- n>Alloc</c-><c- p>,</c-> <c- n>T</c-><c- p>,</c-> <c- k>const</c-> <c- n>T</c-><c- o>&amp;>::</c-><c- n>value</c-><c- p>)</c-> <c- o>||</c-> <c- p>(</c-><c- n>N</c-> <c- o>==</c-> <c- mi>0</c-><c- p>))</c-> <c- o>&amp;&amp;</c->
    <c- n>sg14</c-><c- o>::</c-><c- n>aaipv</c-><c- o>::</c-><c- n>propagate_on_container_copy_construction</c-><c- o>&lt;</c-><c- n>Alloc</c-><c- o>>::</c-><c- n>value</c-><c- p>;</c->

<c- k>static</c-> <c- k>constexpr</c-> <c- b>bool</c-> <c- n>MoveCtorIsNoexcept</c-> <c- o>=</c->
    <c- p>((</c-><c- n>std</c-><c- o>::</c-><c- n>is_nothrow_move_constructible_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- o>&amp;&amp;</c->
      <c- n>sg14</c-><c- o>::</c-><c- n>aaipv</c-><c- o>::</c-><c- n>has_trivial_construct</c-><c- o>&lt;</c-><c- n>Alloc</c-><c- p>,</c-> <c- n>T</c-><c- p>,</c-> <c- n>T</c-><c- o>&amp;&amp;>::</c-><c- n>value</c-><c- p>)</c-> <c- o>||</c-> <c- p>(</c-><c- n>N</c-> <c- o>==</c-> <c- mi>0</c-><c- p>));</c->

<c- k>static</c-> <c- k>constexpr</c-> <c- b>bool</c-> <c- n>CopyAssignIsNoexcept</c-> <c- o>=</c->
    <c- p>((</c-><c- n>std</c-><c- o>::</c-><c- n>is_nothrow_copy_constructible_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- o>&amp;&amp;</c->
      <c- n>std</c-><c- o>::</c-><c- n>is_nothrow_copy_assignable_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- o>&amp;&amp;</c->
      <c- n>std</c-><c- o>::</c-><c- n>is_nothrow_destructible_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- o>&amp;&amp;</c->
      <c- n>sg14</c-><c- o>::</c-><c- n>aaipv</c-><c- o>::</c-><c- n>has_trivial_construct</c-><c- o>&lt;</c-><c- n>Alloc</c-><c- p>,</c-> <c- n>T</c-><c- p>,</c-> <c- k>const</c-> <c- n>T</c-><c- o>&amp;>::</c-><c- n>value</c-> <c- o>&amp;&amp;</c->
      <c- n>sg14</c-><c- o>::</c-><c- n>aaipv</c-><c- o>::</c-><c- n>has_trivial_destroy</c-><c- o>&lt;</c-><c- n>Alloc</c-><c- p>,</c-> <c- n>T</c-><c- o>>::</c-><c- n>value</c-><c- p>)</c-> <c- o>||</c-> <c- p>(</c-><c- n>N</c-> <c- o>==</c-> <c- mi>0</c-><c- p>))</c-> <c- o>&amp;&amp;</c->
    <c- p>(</c-><c- n>std</c-><c- o>::</c-><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>Alloc</c-><c- o>>::</c-><c- n>is_always_equal</c-><c- o>::</c-><c- n>value</c-> <c- o>||</c-> <c- o>!</c-><c- n>std</c-><c- o>::</c-><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>Alloc</c-><c- o>>::</c-><c- n>propagate_on_container_copy_assignment</c-><c- o>::</c-><c- n>value</c-><c- p>);</c->

<c- k>static</c-> <c- k>constexpr</c-> <c- b>bool</c-> <c- n>MoveAssignIsNoexcept</c-> <c- o>=</c->
    <c- p>((</c-><c- n>std</c-><c- o>::</c-><c- n>is_nothrow_move_constructible_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- o>&amp;&amp;</c->
      <c- n>std</c-><c- o>::</c-><c- n>is_nothrow_move_assignable_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- o>&amp;&amp;</c->
      <c- n>std</c-><c- o>::</c-><c- n>is_nothrow_destructible_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- o>&amp;&amp;</c->
      <c- n>sg14</c-><c- o>::</c-><c- n>aaipv</c-><c- o>::</c-><c- n>has_trivial_construct</c-><c- o>&lt;</c-><c- n>Alloc</c-><c- p>,</c-> <c- n>T</c-><c- p>,</c-> <c- n>T</c-><c- o>&amp;&amp;>::</c-><c- n>value</c-> <c- o>&amp;&amp;</c->
      <c- n>sg14</c-><c- o>::</c-><c- n>aaipv</c-><c- o>::</c-><c- n>has_trivial_destroy</c-><c- o>&lt;</c-><c- n>Alloc</c-><c- p>,</c-> <c- n>T</c-><c- o>>::</c-><c- n>value</c-><c- p>)</c-> <c- o>||</c-> <c- p>(</c-><c- n>N</c-> <c- o>==</c-> <c- mi>0</c-><c- p>))</c-> <c- o>&amp;&amp;</c->
    <c- p>(</c-><c- n>std</c-><c- o>::</c-><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>Alloc</c-><c- o>>::</c-><c- n>is_always_equal</c-><c- o>::</c-><c- n>value</c-> <c- o>||</c-> <c- o>!</c-><c- n>std</c-><c- o>::</c-><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>Alloc</c-><c- o>>::</c-><c- n>propagate_on_container_move_assignment</c-><c- o>::</c-><c- n>value</c-><c- p>);</c->

<c- k>static</c-> <c- k>constexpr</c-> <c- b>bool</c-> <c- n>SwapIsNoexcept</c-> <c- o>=</c->
    <c- p>((</c-><c- n>std</c-><c- o>::</c-><c- n>is_nothrow_swappable_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- o>&amp;&amp;</c->
      <c- n>std</c-><c- o>::</c-><c- n>is_nothrow_move_constructible_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- o>&amp;&amp;</c->
      <c- n>sg14</c-><c- o>::</c-><c- n>aaipv</c-><c- o>::</c-><c- n>has_trivial_construct</c-><c- o>&lt;</c-><c- n>Alloc</c-><c- p>,</c-> <c- n>T</c-><c- p>,</c-> <c- n>T</c-><c- o>&amp;&amp;>::</c-><c- n>value</c-> <c- o>&amp;&amp;</c->
      <c- n>sg14</c-><c- o>::</c-><c- n>aaipv</c-><c- o>::</c-><c- n>has_trivial_destroy</c-><c- o>&lt;</c-><c- n>Alloc</c-><c- p>,</c-> <c- n>T</c-><c- o>>::</c-><c- n>value</c-><c- p>)</c-> <c- o>||</c-> <c- p>(</c-><c- n>N</c-> <c- o>==</c-> <c- mi>0</c-><c- p>))</c-> <c- o>&amp;&amp;</c->
     <c- p>(</c-><c- n>std</c-><c- o>::</c-><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>Alloc</c-><c- o>>::</c-><c- n>is_always_equal</c-><c- o>::</c-><c- n>value</c-> <c- o>||</c-> <c- o>!</c-><c- n>std</c-><c- o>::</c-><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>Alloc</c-><c- o>>::</c-><c- n>propagate_on_container_swap</c-><c- o>::</c-><c- n>value</c-><c- p>);</c->
</pre>
   <p>Here <code class="highlight"><c- n>sg14</c-><c- o>::</c-><c- n>aaipv</c-><c- o>::</c-><c- n>propagate_on_container_copy_construction</c-><c- o>&lt;</c-><c- n>Alloc</c-><c- o>></c-></code> is <code class="highlight">true</code> iff <code class="highlight"><c- n>select_on_container_copy_construction</c-></code> is defaulted to simply copy the allocator (which cannot throw); <code class="highlight"><c- n>sg14</c-><c- o>::</c-><c- n>aaipv</c-><c- o>::</c-><c- n>has_trivial_construct</c-><c- o>&lt;</c-><c- n>Alloc</c-><c- p>,</c-> <c- n>T</c-><c- p>,</c-> <c- n>Args</c-><c- p>...</c-><c- o>></c-></code> is <code class="highlight">true</code> iff <code class="highlight"><c- n>construct</c-><c- p>(</c-><c- n>p</c-><c- p>,</c-> <c- n>args</c-><c- p>...)</c-></code> is defaulted
to simply call <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>construct</c-><c- p>(</c-><c- n>p</c-><c- p>,</c-> <c- n>args</c-><c- p>...)</c-></code>; and <code class="highlight"><c- n>sg14</c-><c- o>::</c-><c- n>aaipv</c-><c- o>::</c-><c- n>has_trivial_destroy</c-><c- o>&lt;</c-><c- n>Alloc</c-><c- p>,</c-> <c- n>T</c-><c- o>></c-></code> is <code class="highlight">true</code> iff <code class="highlight"><c- n>destroy</c-><c- p>(</c-><c- n>p</c-><c- p>)</c-></code> is
defaulted to simply call <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>destroy_at</c-><c- p>(</c-><c- n>p</c-><c- p>)</c-></code>. STL vendors might reasonably choose to further specialize these
helpers for <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>allocator</c-></code> and <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>pmr</c-><c- o>::</c-><c- n>polymorphic_allocator</c-></code>.</p>
   <p>However, for wording purposes, we can’t use these helpers because they aren’t standardized: we don’t have any
easy way to invoke them in the wording. So our proposed wording is written as if each helper trait always yields <code class="highlight">false</code>,
but in a way that (we intend) permits the STL vendor to strengthen the noexcept guarantee — and we hope that they will do so!</p>
   <p class="note" role="note"><span class="marker">Note:</span> <a href="https://eel.is/c++draft/res.on.exception.handling#5">[res.on.exception.handling]/5</a> permits STL vendors
only to add <code class="highlight"><c- k>noexcept</c-></code> to function signatures that completely lack it; it doesn’t permit vendors to strengthen <code class="highlight"><c- k>noexcept</c-><c- p>(</c-><c- n>A</c-><c- p>)</c-></code> into <code class="highlight"><c- k>noexcept</c-><c- p>(</c-><c- n>A</c-> <c- o>||</c-> <c- n>B</c-><c- p>)</c-></code>. This is unfortunate.</p>
   <p>Our exception-specifications don’t mention the copy/move/equality operations on <code class="highlight"><c- n>Alloc</c-></code> itself,
because <a href="https://eel.is/c++draft/allocator.requirements">[allocator.requirements]</a> forbids these
operations to throw (on pain of UB).</p>
   <h2 class="heading settled" data-level="3" id="experience"><span class="secno">3. </span><span class="content">Implementation experience</span><a class="self-link" href="#experience"></a></h2>
   <p>Arthur has implemented <a href="#wording">§ 5 Proposed wording</a> in <a data-link-type="biblio" href="#biblio-quuxplusonesg14" title="Quuxplusone/SG14: Allocator-aware in-place vector (future > C++20)">[QuuxplusoneSG14]</a> (see <a href="https://godbolt.org/z/c9W44Kr1v">Godbolt</a>).
This includes extensive unit tests verifying that:</p>
   <ul>
    <li data-md>
     <p>The proposed <code class="highlight"><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><c- p>,</c-> <c- n>std</c-><c- o>::</c-><c- n>allocator</c-><c- o>&lt;</c-><c- n>T</c-><c- o>>></c-></code> is an exact drop-in replacement
for the original <code class="highlight"><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><c- o>></c-></code>, with the same
sizeof, alignof, triviality, and noexcept.</p>
    <li data-md>
     <p>The proposed <code class="highlight"><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><c- p>,</c-> <c- n>Alloc</c-><c- o>></c-></code> works correctly with <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>pmr</c-></code>.</p>
    <li data-md>
     <p>The proposed <code class="highlight"><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><c- p>,</c-> <c- n>Alloc</c-><c- o>></c-></code> works correctly with Boost.Interprocess.</p>
    <li data-md>
     <p>The proposed <code class="highlight"><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><c- p>,</c-> <c- n>Alloc</c-><c- o>></c-></code> works correctly with the <code class="highlight"><c- n>Tiny</c-><c- o>::</c-><c- n>Alloc</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-></code> depicted above.</p>
   </ul>
   <h2 class="heading settled" data-level="4" id="acknowledgments"><span class="secno">4. </span><span class="content">Acknowledgments</span><a class="self-link" href="#acknowledgments"></a></h2>
   <p>Thanks to Pablo Halpern for <a data-link-type="biblio" href="#biblio-p3160r1" title="Allocator-aware inplace_vector">[P3160R1]</a> and <a data-link-type="biblio" href="#biblio-p3160r2" title="Allocator-aware inplace_vector">[P3160R2]</a>.
Thanks to Ben Craig for his design of the feature-test macros and for discussion of the approach
to "freestanding <code class="highlight"><c- n>allocator</c-></code>." Thanks to Gonzalo Brito and Mital Ashok for their review of this design and wording.
Thanks to Casey Carter for his review of this wording.</p>
   <h2 class="heading settled" data-level="5" id="wording"><span class="secno">5. </span><span class="content">Proposed wording</span><a class="self-link" href="#wording"></a></h2>
   <p>
    In this section, wording in 
    <del>strikethrough</del>
     is to be deleted; wording in 
    <ins>green</ins>
     is to be added
no matter which alternative we go with;
wording in 
    <insarthur>yellow</insarthur>
     is to be added only in the "construct/destroy alternative";
wording in 
    <inspablo>blue</inspablo>
     is to be added only in the "uses-allocator alternative."
   </p>
   <h3 class="heading settled" data-level="5.1" id="wording-version.syn"><span class="secno">5.1. </span><span class="content">[version.syn]</span><a class="self-link" href="#wording-version.syn"></a></h3>
   <p>Modify <a href="https://eel.is/c++draft/version.syn">[version.syn]</a> as follows,
inserting these macros into the list in the proper alphabetical positions:</p>
   <p><small></small></p>
   <blockquote>
    <p></p>
    <small> <pre class="highlight"><ins><c- cp>#define __cpp_lib_allocator                    YYYYMML </c-><c- c1>// also in &lt;memory></c-></ins>
<ins><c- cp>#define __cpp_lib_freestanding_allocator       YYYYMML </c-><c- c1>// freestanding, also in &lt;memory></c-></ins>
<del><c- cp>#define __cpp_lib_inplace_vector               202406L </c-><c- c1>// also in &lt;inplace_vector></c-></del>
<ins><c- cp>#define __cpp_lib_inplace_vector               YYYYMML </c-><c- c1>// also in &lt;inplace_vector></c-></ins>
<ins><c- cp>#define __cpp_lib_freestanding_inplace_vector  YYYYMML </c-><c- c1>// freestanding, also in &lt;inplace_vector></c-></ins>
</pre></small>
   </blockquote>
   <h3 class="heading settled" data-level="5.2" id="wording-memory.syn"><span class="secno">5.2. </span><span class="content">[memory.syn]</span><a class="self-link" href="#wording-memory.syn"></a></h3>
   <p>Modify <a href="https://eel.is/c++draft/memory.syn">[memory.syn]</a> as follows:</p>
   <p><small></small></p>
   <blockquote>
    <p></p>
    <small> <pre class="highlight"><i><c- c1>// [default.allocator], the default allocator</c-></i>
<c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>T</c-><c- o>></c-> <c- k>class</c-> <c- nc>allocator</c-><c- p>;</c->                                              <ins><c- c1>// partially freestanding</c-></ins>
<c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>T</c-><c- p>,</c-> <c- k>class</c-> <c- nc>U</c-><c- o>></c->
  <c- k>constexpr</c-> <c- b>bool</c-> <c- k>operator</c-><c- o>==</c-><c- p>(</c-><c- k>const</c-> <c- n>allocator</c-><c- o>&lt;</c-><c- n>T</c-><c- o>>&amp;</c-><c- p>,</c-> <c- k>const</c-> <c- n>allocator</c-><c- o>&lt;</c-><c- n>U</c-><c- o>>&amp;</c-><c- p>)</c-> <c- k>noexcept</c-><c- p>;</c-> <ins><c- c1>// freestanding</c-></ins>
</pre></small>
   </blockquote>
   <h3 class="heading settled" data-level="5.3" id="wording-default.allocator"><span class="secno">5.3. </span><span class="content">[default.allocator]</span><a class="self-link" href="#wording-default.allocator"></a></h3>
   <p>Modify <a href="https://eel.is/c++draft/default.allocator">[default.allocator]</a> as follows:</p>
   <p><small></small></p>
   <blockquote>
    <p></p>
    <small> <pre class="highlight"><c- k>namespace</c-> <c- nn>std</c-> <c- p>{</c->
  <c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>T</c-><c- o>></c-> <c- k>class</c-> <c- nc>allocator</c-> <c- p>{</c->
  <c- k>public</c-><c- o>:</c->
    <c- k>using</c-> <c- n>value_type</c->                             <c- o>=</c-> <c- n>T</c-><c- p>;</c->
    <c- k>using</c-> <c- n>size_type</c->                              <c- o>=</c-> <c- b>size_t</c-><c- p>;</c->
    <c- k>using</c-> <c- n>difference_type</c->                        <c- o>=</c-> <c- b>ptrdiff_t</c-><c- p>;</c->
    <c- k>using</c-> <c- n>propagate_on_container_move_assignment</c-> <c- o>=</c-> <c- n>true_type</c-><c- p>;</c->

    <c- k>constexpr</c-> <c- n>allocator</c-><c- p>()</c-> <c- k>noexcept</c-><c- p>;</c->
    <c- k>constexpr</c-> <c- n>allocator</c-><c- p>(</c-><c- k>const</c-> <c- n>allocator</c-><c- o>&amp;</c-><c- p>)</c-> <c- k>noexcept</c-><c- p>;</c->
    <c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>U</c-><c- o>></c-> <c- k>constexpr</c-> <c- n>allocator</c-><c- p>(</c-><c- k>const</c-> <c- n>allocator</c-><c- o>&lt;</c-><c- n>U</c-><c- o>>&amp;</c-><c- p>)</c-> <c- k>noexcept</c-><c- p>;</c->
    <c- k>constexpr</c-> <c- o>~</c-><c- n>allocator</c-><c- p>();</c->
    <c- k>constexpr</c-> <c- n>allocator</c-><c- o>&amp;</c-> <c- k>operator</c-><c- o>=</c-><c- p>(</c-><c- k>const</c-> <c- n>allocator</c-><c- o>&amp;</c-><c- p>)</c-> <c- o>=</c-> <c- k>default</c-><c- p>;</c->

    <c- k>constexpr</c-> <c- n>T</c-><c- o>*</c-> <c- nf>allocate</c-><c- p>(</c-><c- b>size_t</c-> <c- n>n</c-><c- p>);</c->                              <ins><c- c1>// Note 1</c-></ins>
    <c- k>constexpr</c-> <c- n>allocation_result</c-><c- o>&lt;</c-><c- n>T</c-><c- o>*></c-> <c- n>allocate_at_least</c-><c- p>(</c-><c- b>size_t</c-> <c- n>n</c-><c- p>);</c->  <ins><c- c1>// Note 1</c-></ins>
    <c- k>constexpr</c-> <c- b>void</c-> <c- nf>deallocate</c-><c- p>(</c-><c- n>T</c-><c- o>*</c-> <c- n>p</c-><c- p>,</c-> <c- b>size_t</c-> <c- n>n</c-><c- p>);</c->                    <ins><c- c1>// Note 1</c-></ins>
  <c- p>};</c->
<c- p>}</c->
</pre> <p><ins>x․ [<i>Note</i>: For a freestanding implementation, it is implementation-defined
whether <code class="highlight"><c- n>allocate</c-></code>, <code class="highlight"><c- n>allocate_at_least</c-></code>, and <code class="highlight"><c- n>deallocate</c-></code> are <code class="highlight"><c- k>consteval</c-></code> rather than <code class="highlight"><c- k>constexpr</c-></code>. —<i>end note</i>]</ins> </p><p>2․ <code class="highlight"><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>allocator</c-><c- o>&lt;</c-><c- n>T</c-><c- o>>>::</c-><c- n>is_always_equal</c-><c- o>::</c-><c- n>value</c-></code> is <code class="highlight">true</code> for any <code class="highlight"><c- n>T</c-></code>. </p></small>
   </blockquote>
   <h3 class="heading settled" data-level="5.4" id="wording-container.alloc.reqmts"><span class="secno">5.4. </span><span class="content">[container.alloc.reqmts]</span><a class="self-link" href="#wording-container.alloc.reqmts"></a></h3>
   <p>Modify <a href="https://eel.is/c++draft/container.requirements#container.alloc.reqmts">[container.alloc.reqmts]</a> as follows:</p>
   <p><small></small></p>
   <blockquote>
    <p></p>
    <small> <p>1․ Except for <code class="highlight"><c- n>array</c-></code> <del>and <code class="highlight"><c- n>inplace_vector</c-></code></del>, all of the containers defined in [containers], [stacktrace.basic],
[basic.string], and [re.results] meet the additional requirements of an <i>allocator-aware container</i>, as described below. </p><p>2․ Given an allocator type <code class="highlight"><c- n>A</c-></code> and given a container type <code class="highlight"><c- n>X</c-></code> having a <code class="highlight"><c- n>value_type</c-></code> identical to <code class="highlight"><c- n>T</c-></code> and
an <code class="highlight"><c- n>allocator_type</c-></code> identical to <code class="highlight"><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>A</c-><c- o>>::</c-><c- n>rebind_alloc</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-></code> and given an lvalue <code class="highlight"><c- n>m</c-></code> of type <code class="highlight"><c- n>A</c-></code>,
a pointer <code class="highlight"><c- n>p</c-></code> of type <code class="highlight"><c- n>T</c-><c- o>*</c-></code>, an expression <code class="highlight"><c- n>v</c-></code> that denotes an lvalue of type <code class="highlight"><c- n>T</c-></code> or <code class="highlight"><c- k>const</c-> <c- n>T</c-></code> or an rvalue of type <code class="highlight"><c- k>const</c-> <c- n>T</c-></code>,
and an rvalue <code class="highlight"><c- n>rv</c-></code> of type <code class="highlight"><c- n>T</c-></code>, the following terms are defined. <inspablo>If <code class="highlight"><c- n>X</c-></code> is a specialization of <code class="highlight"><c- n>inplace_vector</c-></code>, the terms below are defined
as if <code class="highlight"><c- n>A</c-></code> were <code class="highlight"><c- n>scoped_allocator_adaptor</c-><c- o>&lt;</c-><c- n>allocator</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-><c- p>,</c-> <c- n>allocator_type</c-><c- o>></c-></code>.</inspablo> If <code class="highlight"><c- n>X</c-></code> is not allocator-aware or is a specialization of <code class="highlight"><c- n>basic_string</c-></code>, the terms below are defined
as if <code class="highlight"><c- n>A</c-></code> were <code class="highlight"><c- n>allocator</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-></code> — no allocator object needs to be created
and user specializations of <code class="highlight"><c- n>allocator</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-></code> are not instantiated: </p><p>(2.1) — <code class="highlight"><c- n>T</c-></code> is <i>Cpp17DefaultInsertable into <code class="highlight"><c- n>X</c-></code></i> means that the following expression is well-formed: </p><p></p><pre class="highlight"><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>A</c-><c- o>>::</c-><c- n>construct</c-><c- p>(</c-><c- n>m</c-><c- p>,</c-> <c- n>p</c-><c- p>)</c->
</pre> <p>(2.2) — An element of <code class="highlight"><c- n>X</c-></code> is <em>default-inserted</em> if it is initialized by evaluation of the expression </p><p></p><pre class="highlight"><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>A</c-><c- o>>::</c-><c- n>construct</c-><c- p>(</c-><c- n>m</c-><c- p>,</c-> <c- n>p</c-><c- p>)</c->
</pre> where <code class="highlight"><c- n>p</c-></code> is the address of the uninitialized storage for the element allocated within <code class="highlight"><c- n>X</c-></code>. <p>(2.3) — <code class="highlight"><c- n>T</c-></code> is <i>Cpp17MoveInsertable into <code class="highlight"><c- n>X</c-></code></i> means that the following expression is well-formed: </p><p></p><pre class="highlight"><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>A</c-><c- o>>::</c-><c- n>construct</c-><c- p>(</c-><c- n>m</c-><c- p>,</c-> <c- n>p</c-><c- p>,</c-> <c- n>rv</c-><c- p>)</c->
</pre> and its evaluation causes the following postcondition to hold: The value of <code class="highlight"><c- o>*</c-><c- n>p</c-></code> is equivalent to the value of <code class="highlight"><c- n>rv</c-></code> before the evaluation.
[<em>Note:</em> <code class="highlight"><c- n>rv</c-></code> remains a valid object. Its state is unspecified. <em>—end note</em>] <p>(2.4) — <code class="highlight"><c- n>T</c-></code> is <i>Cpp17CopyInsertable into <code class="highlight"><c- n>X</c-></code></i> means that, in addition to <code class="highlight"><c- n>T</c-></code> being <em>Cpp17MoveInsertable</em> into <code class="highlight"><c- n>X</c-></code>, the following expression is well-formed: </p><p></p><pre class="highlight"><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>A</c-><c- o>>::</c-><c- n>construct</c-><c- p>(</c-><c- n>m</c-><c- p>,</c-> <c- n>p</c-><c- p>,</c-> <c- n>v</c-><c- p>)</c->
</pre> and its evaluation causes the following postcondition to hold: The value of <code class="highlight"><c- n>v</c-></code> is unchanged and is equivalent to <code class="highlight"><c- o>*</c-><c- n>p</c-></code>. <p>(2.5) — <code class="highlight"><c- n>T</c-></code> is <i>Cpp17EmplaceConstructible into <code class="highlight"><c- n>X</c-></code> from <code class="highlight"><c- n>args</c-></code></i>, for zero or more arguments <code class="highlight"><c- n>args</c-></code>, means that the following expression is well-formed: </p><p></p><pre class="highlight"><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>A</c-><c- o>>::</c-><c- n>construct</c-><c- p>(</c-><c- n>m</c-><c- p>,</c-> <c- n>p</c-><c- p>,</c-> <c- n>args</c-><c- p>)</c->
</pre> <p>(2.6) — <code class="highlight"><c- n>T</c-></code> is <i>Cpp17Erasable from <code class="highlight"><c- n>X</c-></code></i> means that the following expression is well-formed: </p><p></p><pre class="highlight"><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>A</c-><c- o>>::</c-><c- n>destroy</c-><c- p>(</c-><c- n>m</c-><c- p>,</c-> <c- n>p</c-><c- p>)</c->
</pre> [<i>Note:</i> A container calls <code class="highlight"><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>A</c-><c- o>>::</c-><c- n>construct</c-><c- p>(</c-><c- n>m</c-><c- p>,</c-> <c- n>p</c-><c- p>,</c-> <c- n>args</c-><c- p>)</c-></code> to construct an element at <code class="highlight"><c- n>p</c-></code> using <code class="highlight"><c- n>args</c-></code>,
with <code class="highlight"><c- n>m</c-> <c- o>==</c-> <c- n>get_allocator</c-><c- p>()</c-></code> <inspablo>(or <code class="highlight"><c- n>m</c-> <c- o>==</c-> <c- n>A</c-><c- p>(</c-><c- n>allocator</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-><c- p>(),</c-> <c- n>get_allocator</c-><c- p>())</c-></code> in the case of <code class="highlight"><c- n>inplace_vector</c-></code>)</inspablo>.
The default <code class="highlight"><c- n>construct</c-></code> in <code class="highlight"><c- n>allocator</c-></code> will call <code class="highlight"><c- o>::</c-><c- k>new</c-><c- p>((</c-><c- b>void</c-><c- o>*</c-><c- p>)</c-><c- n>p</c-><c- p>)</c-> <c- n>T</c-><c- p>(</c-><c- n>args</c-><c- p>)</c-></code>, but
specialized allocators can choose a different definition. <i>—end note</i>] <p>[...] </p><p class="p">A type <code class="highlight"><c- n>X</c-></code> meets the allocator-aware container requirements if <code class="highlight"><c- n>X</c-></code> meets the container requirements
and the following types, statements, and expressions are well-formed and have the specified semantics. </p><p></p><pre class="highlight"><c- k>typename</c-> <c- nc>X</c-><c- o>::</c-><c- n>allocator_type</c->
</pre> <p class="p">4․ <em>Result:</em> <code class="highlight"><c- n>A</c-></code> </p><p class="p">5․ <em>Mandates:</em> <code class="highlight"><c- n>allocator_type</c-><c- o>::</c-><c- n>value_type</c-></code> is the same as <code class="highlight"><c- n>X</c-><c- o>::</c-><c- n>value_type</c-></code>. </p><p></p><pre class="highlight"><c- n>c</c-><c- p>.</c-><c- n>get_allocator</c-><c- p>()</c->
</pre> <p class="p">6․ <em>Result:</em> <code class="highlight"><c- n>A</c-></code> </p><p class="p">7․ <em>Complexity:</em> Constant. </p><p></p><pre class="highlight"><c- n>X</c-> <c- n>u</c-><c- p>;</c->
<c- n>X</c-> <c- n>u</c-> <c- o>=</c-> <c- n>X</c-><c- p>();</c->
</pre> <p class="p">8․ <em>Preconditions:</em> <code class="highlight"><c- n>A</c-></code> meets the <em>Cpp17DefaultConstructible</em> requirements. </p><p class="p">9․ <em>Postconditions:</em> <code class="highlight"><c- n>u</c-><c- p>.</c-><c- n>empty</c-><c- p>()</c-></code> returns <code class="highlight">true</code>, <code class="highlight"><c- n>u</c-><c- p>.</c-><c- n>get_allocator</c-><c- p>()</c-> <c- o>==</c-> <c- n>A</c-><c- p>()</c-></code>. </p><p class="p">10․ <em>Complexity:</em> Constant. </p><p></p><pre class="highlight"><c- n>X</c-> <c- nf>u</c-><c- p>(</c-><c- n>m</c-><c- p>);</c->
</pre> <p class="p">11․ <em>Postconditions:</em> <code class="highlight"><c- n>u</c-><c- p>.</c-><c- n>empty</c-><c- p>()</c-></code> returns <code class="highlight">true</code>, <code class="highlight"><c- n>u</c-><c- p>.</c-><c- n>get_allocator</c-><c- p>()</c-> <c- o>==</c-> <c- n>m</c-></code>. </p><p class="p">12․ <em>Complexity:</em> Constant. </p><p></p><pre class="highlight"><c- n>X</c-> <c- nf>u</c-><c- p>(</c-><c- n>t</c-><c- p>,</c-> <c- n>m</c-><c- p>);</c->
</pre> <p class="p">13․ <em>Preconditions:</em> <code class="highlight"><c- n>T</c-></code> is <em>Cpp17CopyInsertable</em> into <code class="highlight"><c- n>X</c-></code>. </p><p class="p">14․ <em>Postconditions:</em> <code class="highlight"><c- n>u</c-> <c- o>==</c-> <c- n>t</c-></code>, <code class="highlight"><c- n>u</c-><c- p>.</c-><c- n>get_allocator</c-><c- p>()</c-> <c- o>==</c-> <c- n>m</c-></code> </p><p class="p">15․ <em>Complexity:</em> Linear. </p><p></p><pre class="highlight"><c- n>X</c-> <c- nf>u</c-><c- p>(</c-><c- n>rv</c-><c- p>);</c->
</pre> <p class="p">16․ <em>Postconditions:</em> <code class="highlight"><c- n>u</c-></code> has the same elements as <code class="highlight"><c- n>rv</c-></code> had before this construction;
the value of <code class="highlight"><c- n>u</c-><c- p>.</c-><c- n>get_allocator</c-><c- p>()</c-></code> is the same as the value of <code class="highlight"><c- n>rv</c-><c- p>.</c-><c- n>get_allocator</c-><c- p>()</c-></code> before this construction. </p><p class="p">17․ <em>Complexity:</em> Constant. </p><p></p><pre class="highlight"><c- n>X</c-> <c- nf>u</c-><c- p>(</c-><c- n>rv</c-><c- p>,</c-> <c- n>m</c-><c- p>);</c->
</pre> <p class="p">18․ <em>Preconditions:</em> <code class="highlight"><c- n>T</c-></code> is <em>Cpp17MoveInsertable</em> into <code class="highlight"><c- n>X</c-></code>. </p><p class="p">19․ <em>Postconditions:</em> <code class="highlight"><c- n>u</c-></code> has the same elements, or copies of the elements, that <code class="highlight"><c- n>rv</c-></code> had before this construction, <code class="highlight"><c- n>u</c-><c- p>.</c-><c- n>get_allocator</c-><c- p>()</c-> <c- o>==</c-> <c- n>m</c-></code>. </p><p class="p">20․ <em>Complexity:</em> Constant if <code class="highlight"><c- n>m</c-> <c- o>==</c-> <c- n>rv</c-><c- p>.</c-><c- n>get_allocator</c-><c- p>()</c-></code>, otherwise linear. </p><p></p><pre class="highlight"><c- n>a</c-> <c- o>=</c-> <c- n>t</c->
</pre> <p class="p">21․ <em>Result:</em> <code class="highlight"><c- n>X</c-><c- o>&amp;</c-></code>. </p><p class="p">22․ <em>Preconditions:</em> <code class="highlight"><c- n>T</c-></code> is <em>Cpp17CopyInsertable</em> into <code class="highlight"><c- n>X</c-></code> and <em>Cpp17CopyAssignable</em>. </p><p class="p">23․ <em>Postconditions:</em> <code class="highlight"><c- n>a</c-> <c- o>==</c-> <c- n>t</c-></code> is true. </p><p class="p">24․ <em>Complexity:</em> Linear. </p><p></p><pre class="highlight"><c- n>a</c-> <c- o>=</c-> <c- n>rv</c->
</pre> <p class="p">25․ <em>Result:</em> X&amp;. </p><p class="p">26․ <em>Preconditions:</em> If <code class="highlight"><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>allocator_type</c-><c- o>>::</c-><c- n>propagate_on_container_move_assignment</c-><c- o>::</c-><c- n>value</c-></code> is <code class="highlight">false</code>, <code class="highlight"><c- n>T</c-></code> is <em>Cpp17MoveInsertable</em> into <code class="highlight"><c- n>X</c-></code> and <em>Cpp17MoveAssignable</em>. </p><p class="p">27․ <em>Effects:</em> All existing elements of <code class="highlight"><c- n>a</c-></code> are either move assigned to or destroyed. </p><p class="p">28․ <em>Postconditions:</em> If <code class="highlight"><c- n>a</c-></code> and <code class="highlight"><c- n>rv</c-></code> do not refer to the same object, <code class="highlight"><c- n>a</c-></code> is equal to the value that <code class="highlight"><c- n>rv</c-></code> had before this assignment. </p><p class="p">29․ <em>Complexity:</em> Linear. </p><p></p><pre class="highlight"><c- n>a</c-><c- p>.</c-><c- n>swap</c-><c- p>(</c-><c- n>b</c-><c- p>)</c->
</pre> <p class="p">30․ <em>Result:</em> <code class="highlight"><c- b>void</c-></code> </p><p class="p">31․ <em>Effects:</em> Exchanges the contents of <code class="highlight"><c- n>a</c-></code> and <code class="highlight"><c- n>b</c-></code>. </p><p class="p">32․ <em>Complexity:</em> Constant. </p></small>
   </blockquote>
   <h3 class="heading settled" data-level="5.5" id="wording-inplace.vector.syn"><span class="secno">5.5. </span><span class="content">[inplace.vector.syn]</span><a class="self-link" href="#wording-inplace.vector.syn"></a></h3>
   <p>Modify <a href="https://eel.is/c++draft/inplace.vector.syn">[inplace.vector.syn]</a> as follows:</p>
   <p><small></small></p>
   <blockquote>
    <p></p>
    <small> <p><b>24.3.7 Header <code class="highlight"><c- o>&lt;</c-><c- n>inplace_vector</c-><c- o>></c-></code> synopsis [inplace.vector.syn]</b> </p><p></p><pre class="highlight"><i><c- c1>// mostly freestanding</c-></i>
<c- cp>#include</c-> &lt;compare><c- c1>              </c-><i><c- c1>// see [compare.syn]</c-></i>
<c- cp>#include</c-> &lt;initializer_list><c- c1>     </c-><i><c- c1>// see [initializer.list.syn]</c-></i>
 
<c- k>namespace</c-> <c- nn>std</c-> <c- p>{</c->

  <inspablo><i><c- c1>// exposition-only type traits</c-></i></inspablo>
  <inspablo><c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>T</c-><c- p>,</c-> <c- k>class</c-> <c- nc>A</c-><c- p>,</c-> <c- k>class</c-><c- p>...</c-> <c- n>X</c-><c- o>></c-></inspablo>
    <inspablo><c- k>constexpr</c-> <c- b>bool</c-> <i><c- n>is</c-><c- o>-</c-><c- n>nothrow</c-><c- o>-</c-><c- n>ua</c-><c- o>-</c-><c- n>constructible</c-><c- o>-</c-><c- n>v</c-></i> <c- o>=</c-> <i><c- n>see</c-> <c- n>below</c-></i><c- p>;</c-> <i><c- c1>// exposition only</c-></i></inspablo>

<p><i><c- c1>// [inplace.vector], class template inplace_vector</c-></i>
  <c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>T</c-><c- p>,</c-> <c- b>size_t</c-> <c- n>N</c-><ins><c- p>,</c-> <c- k>class</c-> <c- nc>Allocator</c-></ins><c- o>></c-> <c- k>class</c-> <c- nc>inplace_vector</c-><c- p>;</c-> <i><c- c1>// partially freestanding</c-></i>
 
  <i><c- c1>// [inplace.vector.erasure], erasure</c-></i>
  <c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>T</c-><c- p>,</c-> <c- b>size_t</c-> <c- n>N</c-><c- p>,</c-> <ins><c- k>class</c-> <c- nc>Allocator</c-><c- p>,</c-></ins> <c- k>class</c-> <c- nc>U</c-> <c- o>=</c-> <c- n>T</c-><c- o>></c->
    <c- k>constexpr</c-> <c- k>typename</c-> <c- nc>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><ins><c- p>,</c-> <c- n>Allocator</c-></ins><c- o>>::</c-><c- n>size_type</c->
      <c- n>erase</c-><c- p>(</c-><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><ins><c- p>,</c-> <c- n>Allocator</c-></ins><c- o>>&amp;</c-> <c- n>c</c-><c- p>,</c-> <c- k>const</c-> <c- n>U</c-><c- o>&amp;</c-> <c- n>value</c-><c- p>);</c->
  <c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>T</c-><c- p>,</c-> <c- b>size_t</c-> <c- n>N</c-><c- p>,</c-> <ins><c- k>class</c-> <c- nc>Allocator</c-><c- p>,</c-></ins> <c- k>class</c-> <c- nc>Predicate</c-><c- o>></c->
    <c- k>constexpr</c-> <c- k>typename</c-> <c- nc>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><ins><c- p>,</c-> <c- n>Allocator</c-></ins><c- o>>::</c-><c- n>size_type</c->
      <c- n>erase_if</c-><c- p>(</c-><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><ins><c- p>,</c-> <c- n>Allocator</c-></ins><c- o>>&amp;</c-> <c- n>c</c-><c- p>,</c-> <c- n>Predicate</c-> <c- n>pred</c-><c- p>);</c->
 </p>
  <ins><c- k>namespace</c-> <c- nn>pmr</c-> <c- p>{</c-></ins>
    <ins><c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>T</c-><c- p>,</c-> <c- b>size_t</c-> <c- n>N</c-><c- o>></c-></ins>
      <ins><c- k>using</c-> <c- n>inplace_vector</c-> <c- o>=</c-> <c- n>std</c-><c- o>::</c-><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><c- p>,</c-> <c- n>polymorphic_allocator</c-><c- o>&lt;</c-><c- n>T</c-><c- o>>></c-><c- p>;</c-></ins>
  <ins><c- p>}</c-></ins>
<c- p>}</c->
</pre> </small>
   </blockquote>
   <h3 class="heading settled" data-level="5.6" id="wording-inplace.vector"><span class="secno">5.6. </span><span class="content">[inplace.vector]</span><a class="self-link" href="#wording-inplace.vector"></a></h3>
   <p>Modify <a href="https://eel.is/c++draft/inplace.vector">[inplace.vector]</a> as follows:</p>
   <p><small></small></p>
   <blockquote>
    <p></p>
    <small> <p><b>24.3.14 Class template <code class="highlight"><c- n>inplace_vector</c-></code> [inplace.vector]</b> </p><p><b>24.3.14.1 Overview [inplace.vector.overview]</b> </p><p>1․ An <code class="highlight"><c- n>inplace_vector</c-></code> is a contiguous container. Its capacity is fixed and its elements are stored within the <code class="highlight"><c- n>inplace_vector</c-></code> object itself. <ins>[<i>Note:</i> Although it is an allocator-aware container, <code class="highlight"><c- n>inplace_vector</c-></code> uses its allocator
only to construct and destroy <inspablo>allocator-aware</inspablo> elements;
it never directly instantiates the <code class="highlight"><c- n>allocate</c-></code> or <code class="highlight"><c- n>deallocate</c-></code> member functions of its <code class="highlight"><c- n>allocator_type</c-></code>.<i>— end note</i>]</ins> </p><p>2․ An <code class="highlight"><c- n>inplace_vector</c-></code> meets all of the requirements of a container ([container.reqmts]), of a reversible container ([container.rev.reqmts]), <ins>of an allocator-aware container ([container.alloc.reqmts]),</ins> of a contiguous container, and of a sequence container, including most of the optional sequence container requirements ([sequence.reqmts]).
The exceptions are the <code class="highlight"><c- n>push_front</c-></code>, <code class="highlight"><c- n>prepend_range</c-></code>, <code class="highlight"><c- n>pop_front</c-></code>, and <code class="highlight"><c- n>emplace_front</c-></code> member functions, which are not provided.
Descriptions are provided here only for operations on <code class="highlight"><c- n>inplace_vector</c-></code> that are not described in one of these tables or for operations where there is additional semantic information. </p><p>3․ For any <code class="highlight"><c- n>N</c-></code>, <code class="highlight"><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><ins><c- p>,</c-> <c- n>allocator</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-></ins><c- o>>::</c-><c- n>iterator</c-></code> and <code class="highlight"><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><ins><c- p>,</c-> <c- n>allocator</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-></ins><c- o>>::</c-><c- n>const_iterator</c-></code> meet the constexpr iterator requirements. </p><p>4․ For any <code class="highlight"><c- n>N</c-></code> > 0 <ins>and any <code class="highlight"><c- n>Allocator</c-></code></ins>, if <code class="highlight"><c- n>is_trivial_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-></code> is <code class="highlight">false</code>,
then no <code class="highlight"><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><ins><c- p>,</c-> <c- n>Allocator</c-></ins><c- o>></c-></code> member functions are usable in constant expressions. </p><p>5․ Any member function of <code class="highlight"><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><ins><c- p>,</c-> <c- n>Allocator</c-></ins><c- o>></c-></code> that would cause the size to exceed <code class="highlight"><c- n>N</c-></code> throws an exception of type <code class="highlight"><c- n>bad_alloc</c-></code>. </p><p>6․ Let <code class="highlight"><c- n>IV</c-></code> denote a specialization <del>of <code class="highlight"><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><c- o>></c-></code></del> <insarthur><code class="highlight"><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><c- p>,</c-> <c- n>allocator</c-><c- o>&lt;</c-><c- n>T</c-><c- o>>></c-></code></insarthur> <inspablo>inplace_vector&lt;T, N, A></inspablo>. If <code class="highlight"><c- n>N</c-></code> is zero, then <code class="highlight"><c- n>IV</c-></code> is <inspablo>empty.
If <code class="highlight"><c- n>N</c-></code> is zero and either <code class="highlight"><c- n>is_trivial_v</c-><c- o>&lt;</c-><c- n>A</c-><c- o>></c-></code> is <code class="highlight">true</code> or <code class="highlight"><c- n>A</c-></code> is a specialization of <code class="highlight"><c- n>allocator</c-></code>,
then <code class="highlight"><c- n>IV</c-></code> is</inspablo> both trivial and empty. Otherwise: </p><ul> <li>(6.1) If <code class="highlight"><c- n>is_trivially_copy_constructible_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <inspablo><c- o>&amp;&amp;</c-> <c- n>is_trivially_copy_constructible_v</c-><c- o>&lt;</c-><c- n>A</c-><c- o>></c-></inspablo></code> is <code class="highlight">true</code> <inspablo>and <code class="highlight"><c- n>A</c-><c- o>::</c-><c- n>select_on_container_copy_construction</c-></code> does not exist</inspablo>,
            then <code class="highlight"><c- n>IV</c-></code> has a trivial copy constructor.</li> <li>(6.2) If <code class="highlight"><c- n>is_trivially_move_constructible_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <inspablo><c- o>&amp;&amp;</c-> <c- n>is_trivially_move_constructible_v</c-><c- o>&lt;</c-><c- n>A</c-><c- o>></c-></inspablo></code> is <code class="highlight">true</code>,
            then <code class="highlight"><c- n>IV</c-></code> has a trivial move constructor.</li> <li>(6.3) If <code class="highlight"><c- n>is_trivially_destructible_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-></code> is <code class="highlight">true</code>, then: <ul> <li>(6.3.1) <inspablo>If <code class="highlight"><c- n>is_trivially_destructible_v</c-><c- o>&lt;</c-><c- n>A</c-><c- o>></c-></code> is <code class="highlight">true</code>, then</inspablo> <code class="highlight"><c- n>IV</c-></code> has a trivial destructor.</li> <li>(6.3.2) If <code class="highlight"><c- n>is_trivially_copy_constructible_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- o>&amp;&amp;</c-> <c- n>is_trivially_copy_assignable_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <inspablo><c- o>&amp;&amp;</c-> <c- n>is_trivially_copy_assignable_v</c-><c- o>&lt;</c-><c- n>A</c-><c- o>></c-> <c- o>&amp;&amp;</c-> <c- p>(</c-><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>A</c-><c- o>>::</c-><c- n>propagate_on_container_copy_assignment</c-><c- o>::</c-><c- n>value</c-> <c- o>||</c-> <c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>A</c-><c- o>>::</c-><c- n>is_always_equal</c-><c- o>::</c-><c- n>value</c-><c- p>)</c-></inspablo></code> is <code class="highlight">true</code>, then <code class="highlight"><c- n>IV</c-></code> has a trivial copy assignment operator.</li> <li>(6.3.3) If <code class="highlight"><c- n>is_trivially_move_constructible_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- o>&amp;&amp;</c-> <c- n>is_trivially_move_assignable_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <inspablo><c- o>&amp;&amp;</c-> <c- n>is_trivially_move_assignable_v</c-><c- o>&lt;</c-><c- n>A</c-><c- o>></c-> <c- o>&amp;&amp;</c-> <c- p>(</c-><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>A</c-><c- o>>::</c-><c- n>propagate_on_container_move_assignment</c-><c- o>::</c-><c- n>value</c-> <c- o>||</c-> <c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>A</c-><c- o>>::</c-><c- n>is_always_equal</c-><c- o>::</c-><c- n>value</c-><c- p>)</c-></inspablo></code> is <code class="highlight">true</code>, then <code class="highlight"><c- n>IV</c-></code> has a trivial move assignment operator.</li> </ul></li> </ul> <ul> <p><inspablo>7․ The exposition-only trait <code class="highlight"><i><c- n>is</c-><c- o>-</c-><c- n>nothrow</c-><c- o>-</c-><c- n>ua</c-><c- o>-</c-><c- n>constructible</c-><c- o>-</c-><c- n>v</c-></i><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>A</c-><c- p>,</c-> <c- n>X</c-><c- p>...</c-><c- o>></c-></code> is true if <i>uses-allocator construction</i> with an allocator of type <code class="highlight"><c- n>A</c-></code> and constructor arguments of types specified by <code class="highlight"><c- n>X</c-><c- p>...</c-></code> ([allocator.uses.construction])
is known to be a non-throwing operation. [<em>Note:</em> This trait can be implemented by instantiating <code class="highlight"><c- n>is_nothrow_constructible_v</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>Y</c-><c- p>...</c-><c- o>></c-></code>,
where <code class="highlight"><c- n>Y</c-><c- p>...</c-></code> is the set of tuple arguments deduced by <code class="highlight"><c- n>uses_allocator_construction_args</c-></code>. <em>—end note</em>]</inspablo> </p><p></p><pre class="highlight"><c- k>namespace</c-> <c- nn>std</c-> <c- p>{</c->
  <c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>T</c-><c- p>,</c-> <c- b>size_t</c-> <c- n>N</c-><ins><c- p>,</c-> <c- k>class</c-> <c- nc>Allocator</c-> <c- o>=</c-> <c- n>allocator</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-></ins><c- o>></c->
  <c- k>class</c-> <c- nc>inplace_vector</c-> <c- p>{</c->
  <c- k>public</c-><c- o>:</c->
    <i><c- c1>// types:</c-></i>
    <c- k>using</c-> <c- n>value_type</c->             <c- o>=</c-> <c- n>T</c-><c- p>;</c->
    <ins><c- k>using</c-> <c- n>allocator_type</c->         <c- o>=</c-> <c- n>Allocator</c-><c- p>;</c-></ins>
    <c- k>using</c-> <c- n>pointer</c->                <c- o>=</c-> <del><c- n>T</c-><c- o>*</c-></del> <insarthur><c- k>typename</c-> <c- nc>allocator_traits</c-><c- o>&lt;</c-><c- n>Allocator</c-><c- o>>::</c-><c- n>pointer</c-></insarthur><c- p>;</c->
    <c- k>using</c-> <c- n>const_pointer</c->          <c- o>=</c-> <del><c- k>const</c-> <c- n>T</c-><c- o>*</c-></del> <insarthur><c- k>typename</c-> <c- nc>allocator_traits</c-><c- o>&lt;</c-><c- n>Allocator</c-><c- o>>::</c-><c- n>const_pointer</c-></insarthur><c- p>;</c->
    <c- k>using</c-> <c- n>reference</c->              <c- o>=</c-> <c- n>value_type</c-><c- o>&amp;</c-><c- p>;</c->
    <c- k>using</c-> <c- n>const_reference</c->        <c- o>=</c-> <c- k>const</c-> <c- n>value_type</c-><c- o>&amp;</c-><c- p>;</c->
    <c- k>using</c-> <c- n>size_type</c->              <c- o>=</c-> <del><c- b>size_t</c-></del> <insarthur><i><c- n>implementation</c-><c- o>-</c-><c- n>defined</c-></i></insarthur><c- p>;</c-> <insarthur><i><c- c1>// see [container.requirements]</c-></i></insarthur>
    <c- k>using</c-> <c- n>difference_type</c->        <c- o>=</c-> <del><c- b>ptrdiff_t</c-></del> <insarthur><i><c- n>implementation</c-><c- o>-</c-><c- n>defined</c-></i></insarthur><c- p>;</c-> <insarthur><i><c- c1>// see [container.requirements]</c-></i></insarthur>
    <c- k>using</c-> <c- n>iterator</c->               <c- o>=</c-> <i><c- n>implementation</c-><c- o>-</c-><c- n>defined</c-></i><c- p>;</c-> <i><c- c1>// see [container.requirements]</c-></i>
    <c- k>using</c-> <c- n>const_iterator</c->         <c- o>=</c-> <i><c- n>implementation</c-><c- o>-</c-><c- n>defined</c-></i><c- p>;</c-> <i><c- c1>// see [container.requirements]</c-></i>
    <c- k>using</c-> <c- n>reverse_iterator</c->       <c- o>=</c-> <c- n>std</c-><c- o>::</c-><c- n>reverse_iterator</c-><c- o>&lt;</c-><c- n>iterator</c-><c- o>></c-><c- p>;</c->
    <c- k>using</c-> <c- n>const_reverse_iterator</c-> <c- o>=</c-> <c- n>std</c-><c- o>::</c-><c- n>reverse_iterator</c-><c- o>&lt;</c-><c- n>const_iterator</c-><c- o>></c-><c- p>;</c->
 
    <i><c- c1>// [inplace.vector.cons], construct/copy/destroy</c-></i>
    <c- k>constexpr</c-> <c- n>inplace_vector</c-><c- p>()</c-> <c- k>noexcept</c-><ins><c- p>(</c-><c- k>noexcept</c-><c- p>(</c-><c- n>Allocator</c-><c- p>()))</c-> <c- o>:</c-> <c- n>inplace_vector</c-><c- p>(</c-><c- n>Allocator</c-><c- p>())</c-> <c- p>{</c-> <c- p>}</c-></ins><del><c- p>;</c-></del>
    <ins><c- k>constexpr</c-> <c- k>explicit</c-> <c- n>inplace_vector</c-><c- p>(</c-><c- k>const</c-> <c- n>Allocator</c-><c- o>&amp;</c-><c- p>)</c-> <c- k>noexcept</c-><c- p>;</c-></ins>
    <c- k>constexpr</c-> <c- k>explicit</c-> <c- n>inplace_vector</c-><c- p>(</c-><c- n>size_type</c-> <c- n>n</c-><ins><c- p>,</c-></ins>
                                      <ins><c- k>const</c-> <c- n>Allocator</c-><c- o>&amp;</c-> <c- o>=</c-> <c- n>Allocator</c-><c- p>()</c-></ins><c- p>);</c->      <c- c1>// freestanding-deleted</c->
    <c- k>constexpr</c-> <c- n>inplace_vector</c-><c- p>(</c-><c- n>size_type</c-> <c- n>n</c-><c- p>,</c-> <c- k>const</c-> <c- n>T</c-><c- o>&amp;</c-> <c- n>value</c-><ins><c- p>,</c-></ins>
                             <ins><c- k>const</c-> <c- n>Allocator</c-><c- o>&amp;</c-> <c- o>=</c-> <c- n>Allocator</c-><c- p>()</c-></ins><c- p>);</c->               <c- c1>// freestanding-deleted</c->
    <c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>InputIterator</c-><c- o>></c->
      <c- k>constexpr</c-> <c- n>inplace_vector</c-><c- p>(</c-><c- n>InputIterator</c-> <c- n>first</c-><c- p>,</c-> <c- n>InputIterator</c-> <c- n>last</c-><ins><c- p>,</c-></ins>
                               <ins><c- k>const</c-> <c- n>Allocator</c-><c- o>&amp;</c-> <c- o>=</c-> <c- n>Allocator</c-><c- p>()</c-></ins><c- p>);</c->             <c- c1>// freestanding-deleted</c->
    <c- k>template</c-><c- o>&lt;</c-><i><c- n>container</c-><c- o>-</c-><c- n>compatible</c-><c- o>-</c-><c- n>range</c-></i><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- n>R</c-><c- o>></c->
      <c- k>constexpr</c-> <c- n>inplace_vector</c-><c- p>(</c-><c- n>from_range_t</c-><c- p>,</c-> <c- n>R</c-><c- o>&amp;&amp;</c-> <c- n>rg</c-><ins><c- p>,</c-></ins>
                               <ins><c- k>const</c-> <c- n>Allocator</c-><c- o>&amp;</c-> <c- o>=</c-> <c- n>Allocator</c-><c- p>()</c-></ins><c- p>);</c->             <c- c1>// freestanding-deleted</c->
    <c- k>constexpr</c-> <c- n>inplace_vector</c-><c- p>(</c-><c- k>const</c-> <c- n>inplace_vector</c-><c- o>&amp;</c-><c- p>);</c->
    <c- k>constexpr</c-> <c- n>inplace_vector</c-><c- p>(</c-><c- n>inplace_vector</c-><c- o>&amp;&amp;</c-><c- p>)</c->
      <del><c- k>noexcept</c-><c- p>(</c-><c- n>N</c-> <c- o>==</c-> <c- mi>0</c-> <c- o>||</c-> <c- n>is_nothrow_move_constructible_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-><c- p>)</c-></del>
      <inspablo><c- k>noexcept</c-><c- p>(</c-><c- n>N</c-> <c- o>==</c-> <c- mi>0</c-> <c- o>||</c-> <i><c- n>is</c-><c- o>-</c-><c- n>nothrow</c-><c- o>-</c-><c- n>ua</c-><c- o>-</c-><c- n>constructible</c-><c- o>-</c-><c- n>v</c-></i><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>Allocator</c-><c- p>,</c-> <c- n>T</c-><c- o>&amp;&amp;></c-><c- p>)</c-></inspablo>
      <insarthur><c- k>noexcept</c-><c- p>(</c-><i><c- n>see</c-> <c- n>below</c-></i><c- p>)</c-></insarthur><c- p>;</c->
    <ins><c- k>constexpr</c-> <c- n>inplace_vector</c-><c- p>(</c-><c- k>const</c-> <c- n>inplace_vector</c-><c- o>&amp;</c-> <c- n>rhs</c-><c- p>,</c-> <c- k>const</c-> <c- n>type_identity_t</c-><c- o>&lt;</c-><c- n>Allocator</c-><c- o>>&amp;</c-><c- p>);</c-></ins>
    <ins><c- k>constexpr</c-> <c- n>inplace_vector</c-><c- p>(</c-><c- n>inplace_vector</c-><c- o>&amp;&amp;</c-> <c- n>rhs</c-><c- p>,</c-> <c- k>const</c-> <c- n>type_identity_t</c-><c- o>&lt;</c-><c- n>Allocator</c-><c- o>>&amp;</c-><c- p>);</c-></ins>
    <c- k>constexpr</c-> <c- n>inplace_vector</c-><c- p>(</c-><c- n>initializer_list</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <del><c- n>il</c-></del><ins><c- p>,</c-></ins>
                             <ins><c- k>const</c-> <c- n>Allocator</c-><c- o>&amp;</c-> <c- o>=</c-> <c- n>Allocator</c-><c- p>()</c-></ins><c- p>);</c->               <c- c1>// freestanding-deleted</c->
    <c- k>constexpr</c-> <c- o>~</c-><c- n>inplace_vector</c-><c- p>();</c->
    <c- k>constexpr</c-> <c- n>inplace_vector</c-><c- o>&amp;</c-> <c- k>operator</c-><c- o>=</c-><c- p>(</c-><c- k>const</c-> <c- n>inplace_vector</c-><c- o>&amp;</c-> <del><c- n>other</c-></del> <ins><c- n>rhs</c-></ins><c- p>);</c->
    <c- k>constexpr</c-> <c- n>inplace_vector</c-><c- o>&amp;</c-> <c- k>operator</c-><c- o>=</c-><c- p>(</c-><c- n>inplace_vector</c-><c- o>&amp;&amp;</c-> <del><c- n>other</c-></del> <ins><c- n>rhs</c-></ins><c- p>)</c->
      <del><c- k>noexcept</c-><c- p>(</c-><c- n>N</c-> <c- o>==</c-> <c- mi>0</c-> <c- o>||</c-> <c- p>(</c-><c- n>is_nothrow_move_assignable_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- o>&amp;&amp;</c-></del>
                          <del><c- n>is_nothrow_move_constructible_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-><c- p>))</c-></del>
      <inspablo><c- k>noexcept</c-><c- p>(</c-><c- n>N</c-> <c- o>==</c-> <c- mi>0</c-> <c- o>||</c-> <c- p>(</c-><c- n>is_nothrow_move_assignable_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- o>&amp;&amp;</c-></inspablo>
                          <inspablo><i><c- n>is</c-><c- o>-</c-><c- n>nothrow</c-><c- o>-</c-><c- n>ua</c-><c- o>-</c-><c- n>constructible</c-><c- o>-</c-><c- n>v</c-></i><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>Allocator</c-><c- p>,</c-> <c- n>T</c-><c- o>&amp;&amp;></c-><c- p>))</c-></inspablo>
      <insarthur><c- k>noexcept</c-><c- p>(</c-><i><c- n>see</c-> <c- n>below</c-></i><c- p>)</c-></insarthur><c- p>;</c->
    <c- k>constexpr</c-> <c- n>inplace_vector</c-><c- o>&amp;</c-> <c- k>operator</c-><c- o>=</c-><c- p>(</c-><c- n>initializer_list</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-><c- p>);</c->               <c- c1>// freestanding-deleted</c->
    <c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>InputIterator</c-><c- o>></c->
      <c- k>constexpr</c-> <c- b>void</c-> <c- n>assign</c-><c- p>(</c-><c- n>InputIterator</c-> <c- n>first</c-><c- p>,</c-> <c- n>InputIterator</c-> <c- n>last</c-><c- p>);</c->       <c- c1>// freestanding-deleted</c->
    <c- k>template</c-><c- o>&lt;</c-><i><c- n>container</c-><c- o>-</c-><c- n>compatible</c-><c- o>-</c-><c- n>range</c-></i><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- n>R</c-><c- o>></c->
      <c- k>constexpr</c-> <c- b>void</c-> <c- n>assign_range</c-><c- p>(</c-><c- n>R</c-><c- o>&amp;&amp;</c-> <c- n>rg</c-><c- p>);</c->                                  <c- c1>// freestanding-deleted</c->
    <c- k>constexpr</c-> <c- b>void</c-> <c- nf>assign</c-><c- p>(</c-><c- n>size_type</c-> <c- n>n</c-><c- p>,</c-> <c- k>const</c-> <c- n>T</c-><c- o>&amp;</c-> <c- n>u</c-><c- p>);</c->                         <c- c1>// freestanding-deleted</c->
    <c- k>constexpr</c-> <c- b>void</c-> <c- nf>assign</c-><c- p>(</c-><c- n>initializer_list</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- n>il</c-><c- p>);</c->                          <c- c1>// freestanding-deleted</c->
    <ins><c- k>constexpr</c-> <c- n>allocator_type</c-> <c- nf>get_allocator</c-><c- p>()</c-> <c- k>const</c-> <c- k>noexcept</c-><c- p>;</c-></ins>
 
    <i><c- c1>// iterators</c-></i>
    <c- k>constexpr</c-> <c- n>iterator</c->               <c- nf>begin</c-><c- p>()</c->         <c- k>noexcept</c-><c- p>;</c->
    <c- k>constexpr</c-> <c- n>const_iterator</c->         <c- nf>begin</c-><c- p>()</c->   <c- k>const</c-> <c- k>noexcept</c-><c- p>;</c->
    <c- k>constexpr</c-> <c- n>iterator</c->               <c- nf>end</c-><c- p>()</c->           <c- k>noexcept</c-><c- p>;</c->
    <c- k>constexpr</c-> <c- n>const_iterator</c->         <c- nf>end</c-><c- p>()</c->     <c- k>const</c-> <c- k>noexcept</c-><c- p>;</c->
    <c- k>constexpr</c-> <c- n>reverse_iterator</c->       <c- nf>rbegin</c-><c- p>()</c->        <c- k>noexcept</c-><c- p>;</c->
    <c- k>constexpr</c-> <c- n>const_reverse_iterator</c-> <c- nf>rbegin</c-><c- p>()</c->  <c- k>const</c-> <c- k>noexcept</c-><c- p>;</c->
    <c- k>constexpr</c-> <c- n>reverse_iterator</c->       <c- nf>rend</c-><c- p>()</c->          <c- k>noexcept</c-><c- p>;</c->
    <c- k>constexpr</c-> <c- n>const_reverse_iterator</c-> <c- nf>rend</c-><c- p>()</c->    <c- k>const</c-> <c- k>noexcept</c-><c- p>;</c->
 
    <c- k>constexpr</c-> <c- n>const_iterator</c->         <c- nf>cbegin</c-><c- p>()</c->  <c- k>const</c-> <c- k>noexcept</c-><c- p>;</c->
    <c- k>constexpr</c-> <c- n>const_iterator</c->         <c- nf>cend</c-><c- p>()</c->    <c- k>const</c-> <c- k>noexcept</c-><c- p>;</c->
    <c- k>constexpr</c-> <c- n>const_reverse_iterator</c-> <c- nf>crbegin</c-><c- p>()</c-> <c- k>const</c-> <c- k>noexcept</c-><c- p>;</c->
    <c- k>constexpr</c-> <c- n>const_reverse_iterator</c-> <c- nf>crend</c-><c- p>()</c->   <c- k>const</c-> <c- k>noexcept</c-><c- p>;</c->
 
    <i><c- c1>// [inplace.vector.capacity] size/capacity</c-></i>
    <c- k>constexpr</c-> <c- b>bool</c-> <c- nf>empty</c-><c- p>()</c-> <c- k>const</c-> <c- k>noexcept</c-><c- p>;</c->
    <c- k>constexpr</c-> <c- n>size_type</c-> <c- nf>size</c-><c- p>()</c-> <c- k>const</c-> <c- k>noexcept</c-><c- p>;</c->
    <c- k>static</c-> <c- k>constexpr</c-> <c- n>size_type</c-> <c- nf>max_size</c-><c- p>()</c-> <c- k>noexcept</c-><c- p>;</c->
    <c- k>static</c-> <c- k>constexpr</c-> <c- n>size_type</c-> <c- nf>capacity</c-><c- p>()</c-> <c- k>noexcept</c-><c- p>;</c->
    <c- k>constexpr</c-> <c- b>void</c-> <c- nf>resize</c-><c- p>(</c-><c- n>size_type</c-> <c- n>sz</c-><c- p>);</c->                                    <c- c1>// freestanding-deleted</c->
    <c- k>constexpr</c-> <c- b>void</c-> <c- nf>resize</c-><c- p>(</c-><c- n>size_type</c-> <c- n>sz</c-><c- p>,</c-> <c- k>const</c-> <c- n>T</c-><c- o>&amp;</c-> <c- n>c</c-><c- p>);</c->                        <c- c1>// freestanding-deleted</c->
    <c- k>static</c-> <c- k>constexpr</c-> <c- b>void</c-> <c- nf>reserve</c-><c- p>(</c-><c- n>size_type</c-> <c- n>n</c-><c- p>);</c->                             <c- c1>// freestanding-deleted</c->
    <c- k>static</c-> <c- k>constexpr</c-> <c- b>void</c-> <c- nf>shrink_to_fit</c-><c- p>()</c-> <c- k>noexcept</c-><c- p>;</c->
 
    <i><c- c1>// element access</c-></i>
    <c- k>constexpr</c-> <c- n>reference</c->       <c- k>operator</c-><c- p>[](</c-><c- n>size_type</c-> <c- n>n</c-><c- p>);</c->
    <c- k>constexpr</c-> <c- n>const_reference</c-> <c- k>operator</c-><c- p>[](</c-><c- n>size_type</c-> <c- n>n</c-><c- p>)</c-> <c- k>const</c-><c- p>;</c->
    <c- k>constexpr</c-> <c- n>reference</c->       <c- nf>at</c-><c- p>(</c-><c- n>size_type</c-> <c- n>n</c-><c- p>);</c->                              <c- c1>// freestanding-deleted</c->
    <c- k>constexpr</c-> <c- n>const_reference</c-> <c- nf>at</c-><c- p>(</c-><c- n>size_type</c-> <c- n>n</c-><c- p>)</c-> <c- k>const</c-><c- p>;</c->                        <c- c1>// freestanding-deleted</c->
    <c- k>constexpr</c-> <c- n>reference</c->       <c- nf>front</c-><c- p>();</c->
    <c- k>constexpr</c-> <c- n>const_reference</c-> <c- nf>front</c-><c- p>()</c-> <c- k>const</c-><c- p>;</c->
    <c- k>constexpr</c-> <c- n>reference</c->       <c- nf>back</c-><c- p>();</c->
    <c- k>constexpr</c-> <c- n>const_reference</c-> <c- nf>back</c-><c- p>()</c-> <c- k>const</c-><c- p>;</c->
 
    <i><c- c1>// [inplace.vector.data], data access</c-></i>
    <c- k>constexpr</c->       <c- n>T</c-><c- o>*</c-> <c- nf>data</c-><c- p>()</c->       <c- k>noexcept</c-><c- p>;</c->
    <c- k>constexpr</c-> <c- k>const</c-> <c- n>T</c-><c- o>*</c-> <c- nf>data</c-><c- p>()</c-> <c- k>const</c-> <c- k>noexcept</c-><c- p>;</c->
 
    <i><c- c1>// [inplace.vector.modifiers], modifiers</c-></i>
    <c- k>template</c-><c- o>&lt;</c-><c- k>class</c-><c- p>...</c-> <c- n>Args</c-><c- o>></c->
      <c- k>constexpr</c-> <c- n>reference</c-> <c- n>emplace_back</c-><c- p>(</c-><c- n>Args</c-><c- o>&amp;&amp;</c-><c- p>...</c-> <c- n>args</c-><c- p>);</c->                     <c- c1>// freestanding-deleted</c->
    <c- k>constexpr</c-> <c- n>reference</c-> <c- nf>push_back</c-><c- p>(</c-><c- k>const</c-> <c- n>T</c-><c- o>&amp;</c-> <c- n>x</c-><c- p>);</c->                              <c- c1>// freestanding-deleted</c->
    <c- k>constexpr</c-> <c- n>reference</c-> <c- nf>push_back</c-><c- p>(</c-><c- n>T</c-><c- o>&amp;&amp;</c-> <c- n>x</c-><c- p>);</c->                                   <c- c1>// freestanding-deleted</c->
    <c- k>template</c-><c- o>&lt;</c-><i><c- n>container</c-><c- o>-</c-><c- n>compatible</c-><c- o>-</c-><c- n>range</c-></i><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- n>R</c-><c- o>></c->
      <c- k>constexpr</c-> <c- b>void</c-> <c- n>append_range</c-><c- p>(</c-><c- n>R</c-><c- o>&amp;&amp;</c-> <c- n>rg</c-><c- p>);</c->                                  <c- c1>// freestanding-deleted</c->
    <c- k>constexpr</c-> <c- b>void</c-> <c- nf>pop_back</c-><c- p>();</c->
 
    <c- k>template</c-><c- o>&lt;</c-><c- k>class</c-><c- p>...</c-> <c- n>Args</c-><c- o>></c->
      <c- k>constexpr</c-> <del><c- n>pointer</c-></del> <ins><c- n>T</c-><c- o>*</c-></ins> <c- n>try_emplace_back</c-><c- p>(</c-><c- n>Args</c-><c- o>&amp;&amp;</c-><c- p>...</c-> <c- n>args</c-><c- p>);</c->
    <c- k>constexpr</c-> <del><c- n>pointer</c-></del> <ins><c- n>T</c-><c- o>*</c-></ins> <c- n>try_push_back</c-><c- p>(</c-><c- k>const</c-> <c- n>T</c-><c- o>&amp;</c-> <c- n>x</c-><c- p>);</c->
    <c- k>constexpr</c-> <del><c- n>pointer</c-></del> <ins><c- n>T</c-><c- o>*</c-></ins> <c- n>try_push_back</c-><c- p>(</c-><c- n>T</c-><c- o>&amp;&amp;</c-> <c- n>x</c-><c- p>);</c->
    <c- k>template</c-><c- o>&lt;</c-><i><c- n>container</c-><c- o>-</c-><c- n>compatible</c-><c- o>-</c-><c- n>range</c-></i><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- n>R</c-><c- o>></c->
      <c- k>constexpr</c-> <c- n>ranges</c-><c- o>::</c-><c- n>borrowed_iterator_t</c-><c- o>&lt;</c-><c- n>R</c-><c- o>></c-> <c- n>try_append_range</c-><c- p>(</c-><c- n>R</c-><c- o>&amp;&amp;</c-> <c- n>rg</c-><c- p>);</c->
 
    <c- k>template</c-><c- o>&lt;</c-><c- k>class</c-><c- p>...</c-> <c- n>Args</c-><c- o>></c->
      <c- k>constexpr</c-> <c- n>reference</c-> <c- n>unchecked_emplace_back</c-><c- p>(</c-><c- n>Args</c-><c- o>&amp;&amp;</c-><c- p>...</c-> <c- n>args</c-><c- p>);</c->
    <c- k>constexpr</c-> <c- n>reference</c-> <c- nf>unchecked_push_back</c-><c- p>(</c-><c- k>const</c-> <c- n>T</c-><c- o>&amp;</c-> <c- n>x</c-><c- p>);</c->
    <c- k>constexpr</c-> <c- n>reference</c-> <c- nf>unchecked_push_back</c-><c- p>(</c-><c- n>T</c-><c- o>&amp;&amp;</c-> <c- n>x</c-><c- p>);</c->
 
    <c- k>template</c-><c- o>&lt;</c-><c- k>class</c-><c- p>...</c-> <c- n>Args</c-><c- o>></c->
      <c- k>constexpr</c-> <c- n>iterator</c-> <c- n>emplace</c-><c- p>(</c-><c- n>const_iterator</c-> <c- n>position</c-><c- p>,</c-> <c- n>Args</c-><c- o>&amp;&amp;</c-><c- p>...</c-> <c- n>args</c-><c- p>);</c->  <c- c1>// freestanding-deleted</c->
    <c- k>constexpr</c-> <c- n>iterator</c-> <c- nf>insert</c-><c- p>(</c-><c- n>const_iterator</c-> <c- n>position</c-><c- p>,</c-> <c- k>const</c-> <c- n>T</c-><c- o>&amp;</c-> <c- n>x</c-><c- p>);</c->         <c- c1>// freestanding-deleted</c->
    <c- k>constexpr</c-> <c- n>iterator</c-> <c- nf>insert</c-><c- p>(</c-><c- n>const_iterator</c-> <c- n>position</c-><c- p>,</c-> <c- n>T</c-><c- o>&amp;&amp;</c-> <c- n>x</c-><c- p>);</c->              <c- c1>// freestanding-deleted</c->
    <c- k>constexpr</c-> <c- n>iterator</c-> <c- nf>insert</c-><c- p>(</c-><c- n>const_iterator</c-> <c- n>position</c-><c- p>,</c-> <c- n>size_type</c-> <c- n>n</c-><c- p>,</c->         <c- c1>// freestanding-deleted</c->
                              <c- k>const</c-> <c- n>T</c-><c- o>&amp;</c-> <c- n>x</c-><c- p>);</c->
    <c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>InputIterator</c-><c- o>></c->
      <c- k>constexpr</c-> <c- n>iterator</c-> <c- n>insert</c-><c- p>(</c-><c- n>const_iterator</c-> <c- n>position</c-><c- p>,</c->                    <c- c1>// freestanding-deleted</c->
                                <c- n>InputIterator</c-> <c- n>first</c-><c- p>,</c-> <c- n>InputIterator</c-> <c- n>last</c-><c- p>);</c->
    <c- k>template</c-><c- o>&lt;</c-><i><c- n>container</c-><c- o>-</c-><c- n>compatible</c-><c- o>-</c-><c- n>range</c-></i><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- n>R</c-><c- o>></c->
      <c- k>constexpr</c-> <c- n>iterator</c-> <c- n>insert_range</c-><c- p>(</c-><c- n>const_iterator</c-> <c- n>position</c-><c- p>,</c-> <c- n>R</c-><c- o>&amp;&amp;</c-> <c- n>rg</c-><c- p>);</c->     <c- c1>// freestanding-deleted</c->
    <c- k>constexpr</c-> <c- n>iterator</c-> <c- nf>insert</c-><c- p>(</c-><c- n>const_iterator</c-> <c- n>position</c-><c- p>,</c->                      <c- c1>// freestanding-deleted</c->
                              <c- n>initializer_list</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- n>il</c-><c- p>);</c->
    <c- k>constexpr</c-> <c- n>iterator</c-> <c- nf>erase</c-><c- p>(</c-><c- n>const_iterator</c-> <c- n>position</c-><c- p>);</c->
    <c- k>constexpr</c-> <c- n>iterator</c-> <c- nf>erase</c-><c- p>(</c-><c- n>const_iterator</c-> <c- n>first</c-><c- p>,</c-> <c- n>const_iterator</c-> <c- n>last</c-><c- p>);</c->
    <c- k>constexpr</c-> <c- b>void</c-> <c- nf>swap</c-><c- p>(</c-><c- n>inplace_vector</c-><c- o>&amp;</c-> <c- n>x</c-><c- p>)</c->
      <del><c- k>noexcept</c-><c- p>(</c-><c- n>N</c-> <c- o>==</c-> <c- mi>0</c-> <c- o>||</c-> <c- p>(</c-><c- n>is_nothrow_swappable_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- o>&amp;&amp;</c-></del>
                          <del><c- n>is_nothrow_move_constructible_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-><c- p>))</c-></del>
      <inspablo><c- k>noexcept</c-><c- p>(</c-><c- n>N</c-> <c- o>==</c-> <c- mi>0</c-> <c- o>||</c-> <c- p>(</c-><c- n>is_nothrow_swappable_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- o>&amp;&amp;</c-></inspablo>
                          <inspablo><i><c- n>is</c-><c- o>-</c-><c- n>nothrow</c-><c- o>-</c-><c- n>ua</c-><c- o>-</c-><c- n>constructible</c-><c- o>-</c-><c- n>v</c-></i><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>Allocator</c-><c- p>,</c-> <c- n>T</c-><c- o>&amp;&amp;></c-><c- p>))</c-></inspablo>
      <insarthur><c- k>noexcept</c-><c- p>(</c-><i><c- n>see</c-> <c- n>below</c-></i><c- p>)</c-></insarthur><c- p>;</c->
    <c- k>constexpr</c-> <c- b>void</c-> <c- nf>clear</c-><c- p>()</c-> <c- k>noexcept</c-><c- p>;</c->
 
    <c- k>constexpr</c-> <c- k>friend</c-> <c- b>bool</c-> <c- k>operator</c-><c- o>==</c-><c- p>(</c-><c- k>const</c-> <c- n>inplace_vector</c-><c- o>&amp;</c-> <c- n>x</c-><c- p>,</c->
                                     <c- k>const</c-> <c- n>inplace_vector</c-><c- o>&amp;</c-> <c- n>y</c-><c- p>);</c->
    <c- k>constexpr</c-> <c- k>friend</c-> <i><c- n>synth</c-><c- o>-</c-><c- n>three</c-><c- o>-</c-><c- n>way</c-><c- o>-</c-><c- n>result</c-></i><c- o>&lt;</c-><c- n>T</c-><c- o>></c->
      <c- k>operator</c-><c- o>&lt;=></c-><c- p>(</c-><c- k>const</c-> <c- n>inplace_vector</c-><c- o>&amp;</c-> <c- n>x</c-><c- p>,</c-> <c- k>const</c-> <c- n>inplace_vector</c-><c- o>&amp;</c-> <c- n>y</c-><c- p>);</c->
    <c- k>constexpr</c-> <c- k>friend</c-> <c- b>void</c-> <c- nf>swap</c-><c- p>(</c-><c- n>inplace_vector</c-><c- o>&amp;</c-> <c- n>x</c-><c- p>,</c-> <c- n>inplace_vector</c-><c- o>&amp;</c-> <c- n>y</c-><c- p>)</c->
      <del><c- k>noexcept</c-><c- p>(</c-><c- n>N</c-> <c- o>==</c-> <c- mi>0</c-> <c- o>||</c-> <c- p>(</c-><c- n>is_nothrow_swappable_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- o>&amp;&amp;</c-></del>
                          <del><c- n>is_nothrow_move_constructible_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-><c- p>))</c-></del>
      <ins><c- k>noexcept</c-><c- p>(</c-><c- k>noexcept</c-><c- p>(</c-><c- n>x</c-><c- p>.</c-><c- n>swap</c-><c- p>(</c-><c- n>y</c-><c- p>)))</c-></ins>
      <c- p>{</c-> <c- n>x</c-><c- p>.</c-><c- n>swap</c-><c- p>(</c-><c- n>y</c-><c- p>);</c-> <c- p>}</c->
  <c- p>};</c->
<c- p>};</c->
</pre> <p><b>24.3.14.2. Constructors [inplace.vector.cons]</b> </p><p class="note" role="note"><b>DRAFTING NOTE:</b> The use of <code class="highlight"><c- k>explicit</c-></code> on <code class="highlight"><c- n>inplace_vector</c-><c- p>(</c-><c- n>n</c-><c- p>,</c-> <c- n>alloc</c-><c- p>)</c-></code> is consistent with the other STL containers
(e.g. <a href="https://eel.is/c++draft/vector#cons"><code class="highlight"><c- n>vector</c-></code></a> and <a href="https://eel.is/c++draft/list#cons"><code class="highlight"><c- n>list</c-></code></a>). </p><p></p><pre class="highlight"><ins><c- k>constexpr</c-> <c- k>explicit</c-> <c- n>vector</c-><c- p>(</c-><c- k>const</c-> <c- n>Allocator</c-><c- o>&amp;</c-><c- p>);</c-></ins>
</pre> <p class="p"><ins>x․ <em>Effects:</em> Constructs an empty <code class="highlight"><c- n>inplace_vector</c-></code>, using the specified allocator.</ins> </p><p class="p"><ins>x․ <em>Complexity:</em> Constant.</ins> </p><p></p><pre class="highlight"><c- k>constexpr</c-> <c- k>explicit</c-> <c- n>inplace_vector</c-><c- p>(</c-><c- n>size_type</c-> <c- n>n</c-><ins><c- p>,</c-> <c- k>const</c-> <c- n>Allocator</c-><c- o>&amp;</c-> <c- o>=</c-> <c- n>Allocator</c-><c- p>()</c-></ins><c- p>);</c->
</pre> <p class="p">1․ <em>Preconditions:</em> <code class="highlight"><c- n>T</c-></code> is <i><code class="highlight"><c- n>Cpp17DefaultInsertable</c-></code></i> into <code class="highlight"><c- n>inplace_vector</c-></code>. </p><p class="p">2․ <em>Effects:</em> Constructs an <code class="highlight"><c- n>inplace_vector</c-></code> with <code class="highlight"><c- n>n</c-></code> default-inserted elements<ins>, using the specified allocator</ins>. </p><p class="p">3․ <em>Complexity:</em> Linear in <code class="highlight"><c- n>n</c-></code>. </p><p></p><pre class="highlight"><c- k>constexpr</c-> <c- n>inplace_vector</c-><c- p>(</c-><c- n>size_type</c-> <c- n>n</c-><c- p>,</c-> <c- k>const</c-> <c- n>T</c-><c- o>&amp;</c-> <c- n>value</c-><ins><c- p>,</c-></ins>
                         <ins><c- k>const</c-> <c- n>Allocator</c-><c- o>&amp;</c-> <c- o>=</c-> <c- n>Allocator</c-><c- p>()</c-></ins><c- p>);</c->
</pre> <p class="p">4․ <em>Preconditions:</em> <code class="highlight"><c- n>T</c-></code> is <i><code class="highlight"><c- n>Cpp17CopyInsertable</c-></code></i> into <code class="highlight"><c- n>inplace_vector</c-></code>. </p><p class="p">5․ <em>Effects:</em> Constructs an <code class="highlight"><c- n>inplace_vector</c-></code> with <code class="highlight"><c- n>n</c-></code> copies of <code class="highlight"><c- n>value</c-></code><ins>, using the specified allocator</ins>. </p><p class="p">6․ <em>Complexity:</em> Linear in <code class="highlight"><c- n>n</c-></code>. </p><p></p><pre class="highlight"><c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>InputIterator</c-><c- o>></c->
  <c- k>constexpr</c-> <c- n>inplace_vector</c-><c- p>(</c-><c- n>InputIterator</c-> <c- n>first</c-><c- p>,</c-> <c- n>InputIterator</c-> <c- n>last</c-><ins><c- p>,</c-></ins>
                           <ins><c- k>const</c-> <c- n>Allocator</c-><c- o>&amp;</c-> <c- o>=</c-> <c- n>Allocator</c-><c- p>()</c-></ins><c- p>);</c->
</pre> <p class="p">7․ <em>Effects:</em> Constructs an <code class="highlight"><c- n>inplace_vector</c-></code> equal to the range <code class="highlight"><c- p>[</c-><c- n>first</c-><c- p>,</c-> <c- n>last</c-><c- p>)</c-></code><ins>, using the specified allocator</ins>. </p><p class="p">8․ <em>Complexity:</em> Linear in <code class="highlight"><c- n>distance</c-><c- p>(</c-><c- n>first</c-><c- p>,</c-> <c- n>last</c-><c- p>)</c-></code>. </p><p></p><pre class="highlight"><c- k>template</c-><c- o>&lt;</c-><i><c- n>container</c-><c- o>-</c-><c- n>compatible</c-><c- o>-</c-><c- n>range</c-></i><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- n>R</c-><c- o>></c->
  <c- k>constexpr</c-> <c- n>inplace_vector</c-><c- p>(</c-><c- n>from_range_t</c-><c- p>,</c-> <c- n>R</c-><c- o>&amp;&amp;</c-> <c- n>rg</c-><ins><c- p>,</c-> <c- k>const</c-> <c- n>Allocator</c-><c- o>&amp;</c-> <c- o>=</c-> <c- n>Allocator</c-><c- p>()</c-></ins><c- p>);</c->
</pre> <p class="p">9․ <em>Effects:</em> Constructs an <code class="highlight"><c- n>inplace_vector</c-></code> object with the elements of the range <code class="highlight"><c- n>rg</c-></code><ins>, using the specified allocator</ins>. </p><p class="p">10․ <em>Complexity:</em> Linear in <code class="highlight"><c- n>ranges</c-><c- o>::</c-><c- n>distance</c-><c- p>(</c-><c- n>rg</c-><c- p>)</c-></code>. </p><p></p><pre class="highlight"><ins><c- k>constexpr</c-> <c- n>inplace_vector</c-><c- p>(</c-><c- n>inplace_vector</c-><c- o>&amp;&amp;</c-><c- p>)</c-></ins>
  <inspablo><c- k>noexcept</c-><c- p>(</c-><c- n>N</c-> <c- o>==</c-> <c- mi>0</c-> <c- o>||</c-> <i><c- n>is</c-><c- o>-</c-><c- n>nothrow</c-><c- o>-</c-><c- n>ua</c-><c- o>-</c-><c- n>constructible</c-><c- o>-</c-><c- n>v</c-></i><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>Allocator</c-><c- p>,</c-> <c- n>T</c-><c- o>&amp;&amp;></c-><c- p>);</c-></inspablo>
  <insarthur><c- k>noexcept</c-><c- p>(</c-><i><c- n>see</c-> <c- n>below</c-></i><c- p>);</c-></insarthur>
</pre> <p class="p"><ins>11․ <em>Preconditions:</em> <code class="highlight"><c- n>T</c-></code> is <em>Cpp17MoveInsertable</em> into <code class="highlight"><c- n>inplace_vector</c-></code>.</ins> </p><p class="p"><ins>12․ <em>Complexity:</em> Linear.</ins> </p><p class="p"><insarthur>13․ <em>Remarks:</em> When <code class="highlight"><c- n>allocator_type</c-></code> is <code class="highlight"><c- n>allocator</c-><c- o>&lt;</c-><c- n>value_type</c-><c- o>></c-></code>, the exception specification is equivalent to:</insarthur> </p><div style="margin: 0.5em 2em;"><pre class="highlight"><insarthur><c- n>is_nothrow_move_constructible_v</c-><c- o>&lt;</c-><c- n>value_type</c-><c- o>></c-></insarthur>
</pre></div> <insarthur>Otherwise, the exception specification is unspecified.</insarthur> <p></p><pre class="highlight"><insarthur><c- k>constexpr</c-> <c- n>inplace_vector</c-><c- o>&amp;</c-> <c- k>operator</c-><c- o>=</c-><c- p>(</c-><c- k>const</c-> <c- n>inplace_vector</c-><c- o>&amp;</c-> <c- n>rhs</c-><c- p>);</c-></insarthur>
</pre> <p class="p"><insarthur>14․ <em>Preconditions:</em> <code class="highlight"><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>allocator_type</c-><c- o>>::</c-><c- n>propagate_on_container_copy_assignment</c-><c- o>::</c-><c- n>value</c-></code> is <code class="highlight">false</code> or <code class="highlight"><c- n>rhs</c-><c- p>.</c-><c- n>get_allocator</c-><c- p>()</c-> <c- o>==</c-> <c- k>this</c-><c- o>-></c-><c- n>get_allocator</c-><c- p>()</c-></code>. <code class="highlight"><c- n>T</c-></code> is <em>Cpp17CopyInsertable</em> into <code class="highlight"><c- n>inplace_vector</c-></code> and <em>Cpp17CopyAssignable</em>.</insarthur> </p><p></p><pre class="highlight"><ins><c- k>constexpr</c-> <c- n>inplace_vector</c-><c- o>&amp;</c-> <c- k>operator</c-><c- o>=</c-><c- p>(</c-><c- n>inplace_vector</c-><c- o>&amp;&amp;</c-> <c- n>rhs</c-><c- p>)</c-></ins>
  <inspablo><c- k>noexcept</c-><c- p>(</c-><c- n>N</c-> <c- o>==</c-> <c- mi>0</c-> <c- o>||</c-> <c- p>(</c-><c- n>is_nothrow_move_assignable_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- o>&amp;&amp;</c-></inspablo>
                      <inspablo><i><c- n>is</c-><c- o>-</c-><c- n>nothrow</c-><c- o>-</c-><c- n>ua</c-><c- o>-</c-><c- n>constructible</c-><c- o>-</c-><c- n>v</c-></i><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>Allocator</c-><c- p>,</c-> <c- n>T</c-><c- o>&amp;&amp;></c-><c- p>));</c-></inspablo>
  <insarthur><c- k>noexcept</c-><c- p>(</c-><i><c- n>see</c-> <c- n>below</c-></i><c- p>);</c-></insarthur>
</pre> <p class="p"><insarthur>15․ <em>Preconditions:</em> <code class="highlight"><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>allocator_type</c-><c- o>>::</c-><c- n>propagate_on_container_move_assignment</c-><c- o>::</c-><c- n>value</c-></code> is <code class="highlight">false</code> or <code class="highlight"><c- n>rhs</c-><c- p>.</c-><c- n>get_allocator</c-><c- p>()</c-> <c- o>==</c-> <c- k>this</c-><c- o>-></c-><c- n>get_allocator</c-><c- p>()</c-></code>. <code class="highlight"><c- n>T</c-></code> is <em>Cpp17MoveInsertable</em> into <code class="highlight"><c- n>inplace_vector</c-></code> and <em>Cpp17MoveAssignable</em>.</insarthur> </p><p class="p"><ins>16․ <em>Complexity:</em> Linear.</ins> </p><p class="p"><insarthur>17․ <em>Remarks:</em> When <code class="highlight"><c- n>allocator_type</c-></code> is <code class="highlight"><c- n>allocator</c-><c- o>&lt;</c-><c- n>value_type</c-><c- o>></c-></code>, the exception specification is equivalent to:</insarthur> </p><div style="margin: 0.5em 2em;"><pre class="highlight"><insarthur><c- n>is_nothrow_move_assignable_v</c-><c- o>&lt;</c-><c- n>value_type</c-><c- o>></c-> <c- o>&amp;&amp;</c-> <c- n>is_nothrow_move_constructible_v</c-><c- o>&lt;</c-><c- n>value_type</c-><c- o>></c-></insarthur>
</pre></div> <insarthur>Otherwise, the exception specification is unspecified.</insarthur> <p class="note" role="note"><b>DRAFTING NOTE:</b> <code class="highlight"><c- n>type_identity_t</c-></code> below is consistent with the other STL containers.
CTAD needs it in order to handle this snippet: <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>pmr</c-><c- o>::</c-><c- n>inplace_vector</c-><c- o>&lt;</c-><c- b>int</c-><c- p>,</c-><c- mi>10</c-><c- o>></c-> <c- n>v</c-><c- p>;</c-> <c- k>auto</c-> <c- n>w</c-> <c- o>=</c-> <c- n>inplace_vector</c-><c- p>(</c-><c- n>v</c-><c- p>,</c-> <c- o>&amp;</c-><c- n>mr</c-><c- p>);</c-></code> </p><p></p><pre class="highlight"><ins><c- k>constexpr</c-> <c- n>inplace_vector</c-><c- p>(</c-><c- k>const</c-> <c- n>inplace_vector</c-><c- o>&amp;</c-> <c- n>rhs</c-><c- p>,</c-> <c- k>const</c-> <c- n>type_identity_t</c-><c- o>&lt;</c-><c- n>Allocator</c-><c- o>>&amp;</c-><c- p>);</c-></ins>
</pre> <p class="p"><ins>1․ <em>Effects:</em> Constructs an <code class="highlight"><c- n>inplace_vector</c-></code> with the elements of <code class="highlight"><c- n>rhs</c-></code>, using the specified allocator.</ins> </p><p class="p"><ins>2․ <em>Complexity:</em> Linear in <code class="highlight"><c- n>rhs</c-><c- p>.</c-><c- n>size</c-><c- p>()</c-></code>.</ins> </p><p></p><pre class="highlight"><ins><c- k>constexpr</c-> <c- n>inplace_vector</c-><c- p>(</c-><c- n>inplace_vector</c-><c- o>&amp;&amp;</c-> <c- n>rhs</c-><c- p>,</c-> <c- k>const</c-> <c- n>type_identity_t</c-><c- o>&lt;</c-><c- n>Allocator</c-><c- o>>&amp;</c-><c- p>);</c-></ins>
</pre> <p class="p"><ins>3․ <em>Effects:</em> Constructs an <code class="highlight"><c- n>inplace_vector</c-></code> with the elements that <code class="highlight"><c- n>rhs</c-></code> had before the construction,
using the specified allocator.</ins> </p><p class="p"><ins>4․ <em>Complexity:</em> Linear in <code class="highlight"><c- n>rhs</c-><c- p>.</c-><c- n>size</c-><c- p>()</c-></code>.</ins> </p><p><b>24.3.14.3 Size and capacity [inplace.vector.capacity]</b> </p><p></p><pre class="highlight"><c- k>static</c-> <c- k>constexpr</c-> <c- n>size_type</c-> <c- nf>capacity</c-><c- p>()</c-> <c- k>noexcept</c-><c- p>;</c->
<c- k>static</c-> <c- k>constexpr</c-> <c- n>size_type</c-> <c- nf>max_size</c-><c- p>()</c-> <c- k>noexcept</c-><c- p>;</c->
</pre> <p class="p">1․ <em>Returns:</em> <code class="highlight"><c- n>N</c-></code>. </p><p></p><pre class="highlight"><c- k>constexpr</c-> <c- b>void</c-> <c- nf>resize</c-><c- p>(</c-><c- n>size_type</c-> <c- n>sz</c-><c- p>);</c->
</pre> <p class="p">2․ <em>Preconditions:</em> <code class="highlight"><c- n>T</c-></code> is <i><code class="highlight"><c- n>Cpp17DefaultInsertable</c-></code></i> into <code class="highlight"><c- n>inplace_vector</c-></code>. </p><p class="p">3․ <em>Effects:</em> If <code class="highlight"><c- n>sz</c-> <c- o>&lt;</c-> <c- n>size</c-><c- p>()</c-></code>, erases the last <code class="highlight"><c- n>size</c-><c- p>()</c-> <c- o>-</c-> <c- n>sz</c-></code> elements from the sequence. Otherwise, appends <code class="highlight"><c- n>sz</c-> <c- o>-</c-> <c- n>size</c-><c- p>()</c-></code> default-inserted elements to the sequence. </p><p class="p">4․ <em>Remarks:</em> If an exception is thrown, there are no effects on <code class="highlight"><c- o>*</c-><c- k>this</c-></code>. </p><p></p><pre class="highlight"><c- k>constexpr</c-> <c- b>void</c-> <c- nf>resize</c-><c- p>(</c-><c- n>size_type</c-> <c- n>sz</c-><c- p>,</c-> <c- k>const</c-> <c- n>T</c-><c- o>&amp;</c-> <c- n>c</c-><c- p>);</c->
</pre> <p class="p">5․ <em>Preconditions:</em> <code class="highlight"><c- n>T</c-></code> is <i><code class="highlight"><c- n>Cpp17CopyInsertable</c-></code></i> into <code class="highlight"><c- n>inplace_vector</c-></code>. </p><p class="p">6․ <em>Effects:</em> If <code class="highlight"><c- n>sz</c-> <c- o>&lt;</c-> <c- n>size</c-><c- p>()</c-></code>, erases the last <code class="highlight"><c- n>size</c-><c- p>()</c-> <c- o>-</c-> <c- n>sz</c-></code> elements from the sequence. Otherwise, appends <code class="highlight"><c- n>sz</c-> <c- o>-</c-> <c- n>size</c-><c- p>()</c-></code> copies of <code class="highlight"><c- n>c</c-></code> to the sequence. </p><p class="p">7․ <em>Remarks:</em> If an exception is thrown, there are no effects on <code class="highlight"><c- o>*</c-><c- k>this</c-></code>. </p><p><b>24.3.14.4 Data [inplace.vector.data]</b> </p><p></p><pre class="highlight"><c- k>constexpr</c->       <c- n>T</c-><c- o>*</c-> <c- nf>data</c-><c- p>()</c->       <c- k>noexcept</c-><c- p>;</c->
<c- k>constexpr</c-> <c- k>const</c-> <c- n>T</c-><c- o>*</c-> <c- nf>data</c-><c- p>()</c-> <c- k>const</c-> <c- k>noexcept</c-><c- p>;</c->
</pre> <p class="p">1․ <em>Returns:</em> A pointer such that [<code class="highlight"><c- n>data</c-><c- p>()</c-></code>, <code class="highlight"><c- n>data</c-><c- p>()</c-> <c- o>+</c-> <c- n>size</c-><c- p>()</c-></code>) is a valid range.
For a non-empty <code class="highlight"><c- n>inplace_vector</c-></code>, <span style=";white-space:nowrap"><code class="highlight"><c- n>data</c-><c- p>()</c-> <c- o>==</c-> <c- n>addressof</c-><c- p>(</c-><c- n>front</c-><c- p>())</c-></code></span> is <code class="highlight">true</code>. </p><p class="p">2․ <em>Complexity:</em> Constant time. </p><p><b>24.3.14.5 Modifiers [inplace.vector.modifiers]</b> </p><p></p><pre class="highlight"><c- k>constexpr</c-> <c- n>iterator</c-> <c- nf>insert</c-><c- p>(</c-><c- n>const_iterator</c-> <c- n>position</c-><c- p>,</c-> <c- k>const</c-> <c- n>T</c-><c- o>&amp;</c-> <c- n>x</c-><c- p>);</c->
<c- k>constexpr</c-> <c- n>iterator</c-> <c- nf>insert</c-><c- p>(</c-><c- n>const_iterator</c-> <c- n>position</c-><c- p>,</c-> <c- n>T</c-><c- o>&amp;&amp;</c-> <c- n>x</c-><c- p>);</c->
<c- k>constexpr</c-> <c- n>iterator</c-> <c- nf>insert</c-><c- p>(</c-><c- n>const_iterator</c-> <c- n>position</c-><c- p>,</c-> <c- n>size_type</c-> <c- n>n</c-><c- p>,</c-> <c- k>const</c-> <c- n>T</c-><c- o>&amp;</c-> <c- n>x</c-><c- p>);</c->
<c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>InputIterator</c-><c- o>></c->
  <c- k>constexpr</c-> <c- n>iterator</c-> <c- n>insert</c-><c- p>(</c-><c- n>const_iterator</c-> <c- n>position</c-><c- p>,</c-> <c- n>InputIterator</c-> <c- n>first</c-><c- p>,</c-> <c- n>InputIterator</c-> <c- n>last</c-><c- p>);</c->
<c- k>template</c-><c- o>&lt;</c-><i><c- n>container</c-><c- o>-</c-><c- n>compatible</c-><c- o>-</c-><c- n>range</c-></i><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- n>R</c-><c- o>></c->
  <c- k>constexpr</c-> <c- n>iterator</c-> <c- n>insert_range</c-><c- p>(</c-><c- n>const_iterator</c-> <c- n>position</c-><c- p>,</c-> <c- n>R</c-><c- o>&amp;&amp;</c-> <c- n>rg</c-><c- p>);</c->
<c- k>constexpr</c-> <c- n>iterator</c-> <c- nf>insert</c-><c- p>(</c-><c- n>const_iterator</c-> <c- n>position</c-><c- p>,</c-> <c- n>initializer_list</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- n>il</c-><c- p>);</c->
 
<c- k>template</c-><c- o>&lt;</c-><c- k>class</c-><c- p>...</c-> <c- n>Args</c-><c- o>></c->
  <c- k>constexpr</c-> <c- n>iterator</c-> <c- n>emplace</c-><c- p>(</c-><c- n>const_iterator</c-> <c- n>position</c-><c- p>,</c-> <c- n>Args</c-><c- o>&amp;&amp;</c-><c- p>...</c-> <c- n>args</c-><c- p>);</c->
<c- k>template</c-><c- o>&lt;</c-><i><c- n>container</c-><c- o>-</c-><c- n>compatible</c-><c- o>-</c-><c- n>range</c-></i><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- n>R</c-><c- o>></c->
  <c- k>constexpr</c-> <c- b>void</c-> <c- n>append_range</c-><c- p>(</c-><c- n>R</c-><c- o>&amp;&amp;</c-> <c- n>rg</c-><c- p>);</c->
</pre> <p class="p">1․ Let <code class="highlight"><c- n>n</c-></code> be the value of <code class="highlight"><c- n>size</c-><c- p>()</c-></code> before this call for the <code class="highlight"><c- n>append_range</c-></code> overload, and <code class="highlight"><c- n>distance</c-><c- p>(</c-><c- n>begin</c-><c- p>,</c-> <c- n>position</c-><c- p>)</c-></code> otherwise. </p><p class="p">2․ <em>Complexity:</em> Linear in the number of elements inserted plus the distance to the end of the vector. </p><p class="p">3․ <em>Remarks:</em> If an exception is thrown other than by the copy constructor, move constructor, assignment operator, or
move assignment operator of <code class="highlight"><c- n>T</c-></code> or by any <code class="highlight"><c- n>InputIterator</c-></code> operation, there are no effects.
Otherwise, if an exception is thrown, then <code class="highlight"><c- n>size</c-><c- p>()</c-></code> ≥ <code class="highlight"><c- n>n</c-></code> and elements in the range <code class="highlight"><c- n>begin</c-><c- p>()</c-></code> + [<code class="highlight"><c- mi>0</c-></code>, <code class="highlight"><c- n>n</c-></code>) are not modified. </p><p></p><pre class="highlight"><c- k>constexpr</c-> <c- n>reference</c-> <c- nf>push_back</c-><c- p>(</c-><c- k>const</c-> <c- n>T</c-><c- o>&amp;</c-> <c- n>x</c-><c- p>);</c->
<c- k>constexpr</c-> <c- n>reference</c-> <c- nf>push_back</c-><c- p>(</c-><c- n>T</c-><c- o>&amp;&amp;</c-> <c- n>x</c-><c- p>);</c->
<c- k>template</c-><c- o>&lt;</c-><c- k>class</c-><c- p>...</c-> <c- n>Args</c-><c- o>></c->
  <c- k>constexpr</c-> <c- n>reference</c-> <c- n>emplace_back</c-><c- p>(</c-><c- n>Args</c-><c- o>&amp;&amp;</c-><c- p>...</c-> <c- n>args</c-><c- p>);</c->
</pre> <p class="p">4․ <em>Returns:</em> <code class="highlight"><c- n>back</c-><c- p>()</c-></code>. </p><p class="p">5․ <em>Throws:</em> <code class="highlight"><c- n>bad_alloc</c-></code> or any exception thrown by the initialization of the inserted element. </p><p class="p">6․ <em>Complexity:</em> Constant. </p><p class="p">7․ <em>Remarks:</em> If an exception is thrown, there are no effects on <code class="highlight"><c- o>*</c-><c- k>this</c-></code>. </p><p></p><pre class="highlight"><c- k>template</c-><c- o>&lt;</c-><c- k>class</c-><c- p>...</c-> <c- n>Args</c-><c- o>></c->
  <c- k>constexpr</c-> <del><c- n>pointer</c-></del> <ins><c- n>T</c-><c- o>*</c-></ins> <c- n>try_emplace_back</c-><c- p>(</c-><c- n>Args</c-><c- o>&amp;&amp;</c-><c- p>...</c-> <c- n>args</c-><c- p>);</c->
<c- k>constexpr</c-> <del><c- n>pointer</c-></del> <ins><c- n>T</c-><c- o>*</c-></ins> <c- n>try_push_back</c-><c- p>(</c-><c- k>const</c-> <c- n>T</c-><c- o>&amp;</c-> <c- n>x</c-><c- p>);</c->
<c- k>constexpr</c-> <del><c- n>pointer</c-></del> <ins><c- n>T</c-><c- o>*</c-></ins> <c- n>try_push_back</c-><c- p>(</c-><c- n>T</c-><c- o>&amp;&amp;</c-> <c- n>x</c-><c- p>);</c->
</pre> <p class="p"> 8․ Let <code class="highlight"><c- n>vals</c-></code> denote a pack: </p><ul> <li>(8.1) <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>forward</c-><c- o>&lt;</c-><c- n>Args</c-><c- o>></c-><c- p>(</c-><c- n>args</c-><c- p>)...</c-></code> for the first overload,</li> <li>(8.2) <code class="highlight"><c- n>x</c-></code> for the second overload,</li> <li>(8.3) <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>move</c-><c- p>(</c-><c- n>x</c-><c- p>)</c-></code> for the third overload.</li> </ul> <p class="p">9․ <em>Preconditions:</em> <code class="highlight"><c- n>value_type</c-></code> is <i><code class="highlight"><c- n>Cpp17EmplaceConstructible</c-></code></i> into <code class="highlight"><c- n>inplace_vector</c-></code> from <code class="highlight"><c- n>vals</c-><c- p>...</c-></code>. </p><p class="p">10․ <em>Effects:</em> If <code class="highlight"><c- n>size</c-><c- p>()</c-> <c- o>&lt;</c-> <c- n>capacity</c-><c- p>()</c-></code> is <code class="highlight">true</code>, appends an object of type <code class="highlight"><c- n>T</c-></code> direct-non-list-initialized with <code class="highlight"><c- n>vals</c-><c- p>...</c-></code>. Otherwise, there are no effects. </p><p class="p">11․ <em>Returns:</em> <code class="highlight"><c- k>nullptr</c-></code> if <code class="highlight"><c- n>size</c-><c- p>()</c-> <c- o>==</c-> <c- n>capacity</c-><c- p>()</c-></code> is <code class="highlight">true</code>, otherwise <code class="highlight"><c- n>addressof</c-><c- p>(</c-><c- n>back</c-><c- p>())</c-></code>. </p><p class="p">12․ <em>Throws:</em> Nothing unless an exception is thrown by the initialization of the inserted element. </p><p class="p">13․ <em>Complexity:</em> Constant. </p><p class="p">14․ <em>Remarks:</em> If an exception is thrown, there are no effects on <code class="highlight"><c- o>*</c-><c- k>this</c-></code>. </p><p></p><pre class="highlight"><c- k>template</c-><c- o>&lt;</c-><i><c- n>container</c-><c- o>-</c-><c- n>compatible</c-><c- o>-</c-><c- n>range</c-></i><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- n>R</c-><c- o>></c->
  <c- k>constexpr</c-> <c- n>ranges</c-><c- o>::</c-><c- n>borrowed_iterator_t</c-><c- o>&lt;</c-><c- n>R</c-><c- o>></c-> <c- n>try_append_range</c-><c- p>(</c-><c- n>R</c-><c- o>&amp;&amp;</c-> <c- n>rg</c-><c- p>);</c->
</pre> <p class="p">15․ <em>Preconditions:</em> <code class="highlight"><c- n>value_type</c-></code> is <i><code class="highlight"><c- n>Cpp17EmplaceConstructible</c-></code></i> into <code class="highlight"><c- n>inplace_vector</c-></code> from <code class="highlight"><c- o>*</c-><c- n>ranges</c-><c- o>::</c-><c- n>begin</c-><c- p>(</c-><c- n>rg</c-><c- p>)</c-></code>. </p><p class="p">16․ <em>Effects:</em> Appends copies of initial elements in <code class="highlight"><c- n>rg</c-></code> before <code class="highlight"><c- n>end</c-><c- p>()</c-></code>, until all elements are inserted or <code class="highlight"><c- n>size</c-><c- p>()</c-> <c- o>==</c-> <c- n>capacity</c-><c- p>()</c-> <c- n>is</c-> true</code>.
Each iterator in the range <code class="highlight"><c- n>rg</c-></code> is dereferenced at most once. </p><p class="p">17․ <em>Returns:</em> An iterator pointing to the first element of <code class="highlight"><c- n>rg</c-></code> that was not inserted into <code class="highlight"><c- o>*</c-><c- k>this</c-></code>, or <code class="highlight"><c- n>ranges</c-><c- o>::</c-><c- n>end</c-><c- p>(</c-><c- n>rg</c-><c- p>)</c-></code> if no such element exists. </p><p class="p">18․ <em>Complexity:</em> Linear in the number of elements inserted. </p><p class="p">19․ <em>Remarks:</em> Let <code class="highlight"><c- n>n</c-></code> be the value of <code class="highlight"><c- n>size</c-><c- p>()</c-></code> prior to this call. If an exception is thrown after the insertion of <code class="highlight"><c- n>k</c-></code> elements, then <code class="highlight"><c- n>size</c-><c- p>()</c-></code> equals <code class="highlight"><c- n>n</c-><c- o>+</c-><c- n>k</c-></code>,
elements in the range <code class="highlight"><c- n>begin</c-><c- p>()</c-></code> + [<code class="highlight"><c- mi>0</c-></code>, <code class="highlight"><c- n>n</c-></code>) are not modified, and elements in the range <code class="highlight"><c- n>begin</c-><c- p>()</c-></code> + [<code class="highlight"><c- n>n</c-></code>, <code class="highlight"><c- n>n</c-><c- o>+</c-><c- n>k</c-></code>) correspond to the inserted elements. </p><p></p><pre class="highlight"><c- k>template</c-><c- o>&lt;</c-><c- k>class</c-><c- p>...</c-> <c- n>Args</c-><c- o>></c->
  <c- k>constexpr</c-> <c- n>reference</c-> <c- n>unchecked_emplace_back</c-><c- p>(</c-><c- n>Args</c-><c- o>&amp;&amp;</c-><c- p>...</c-> <c- n>args</c-><c- p>);</c->
</pre> <p class="p">20․ <em>Preconditions:</em> <code class="highlight"><c- n>size</c-><c- p>()</c-> <c- o>&lt;</c-> <c- n>capacity</c-><c- p>()</c-></code> is <code class="highlight">true</code>. </p><p class="p">21․ <em>Effects:</em> Equivalent to: <code class="highlight"><c- k>return</c-> <c- o>*</c-><c- n>try_emplace_back</c-><c- p>(</c-><c- n>std</c-><c- o>::</c-><c- n>forward</c-><c- o>&lt;</c-><c- n>Args</c-><c- o>></c-><c- p>(</c-><c- n>args</c-><c- p>)...);</c-></code> </p><p></p><pre class="highlight"><c- k>constexpr</c-> <c- n>reference</c-> <c- nf>unchecked_push_back</c-><c- p>(</c-><c- k>const</c-> <c- n>T</c-><c- o>&amp;</c-> <c- n>x</c-><c- p>);</c->
<c- k>constexpr</c-> <c- n>reference</c-> <c- nf>unchecked_push_back</c-><c- p>(</c-><c- n>T</c-><c- o>&amp;&amp;</c-> <c- n>x</c-><c- p>);</c->
</pre> <p class="p">22․ <em>Preconditions:</em> <code class="highlight"><c- n>size</c-><c- p>()</c-> <c- o>&lt;</c-> <c- n>capacity</c-><c- p>()</c-></code> is <code class="highlight">true</code>. </p><p class="p">23․ <em>Effects:</em> Equivalent to: <code class="highlight"><c- k>return</c-> <c- o>*</c-><c- n>try_push_back</c-><c- p>(</c-><c- n>std</c-><c- o>::</c-><c- n>forward</c-><c- o>&lt;</c-><c- k>decltype</c-><c- p>(</c-><c- n>x</c-><c- p>)</c-><c- o>></c-><c- p>(</c-><c- n>x</c-><c- p>));</c-></code> </p><p></p><pre class="highlight"><c- k>static</c-> <c- k>constexpr</c-> <c- b>void</c-> <c- nf>reserve</c-><c- p>(</c-><c- n>size_type</c-> <c- n>n</c-><c- p>);</c->
</pre> <p class="p">24․ <em>Effects:</em> None. </p><p class="p">25․ <em>Throws:</em> <code class="highlight"><c- n>bad_alloc</c-></code> if <code class="highlight"><c- n>n</c-> <c- o>></c-> <c- n>capacity</c-><c- p>()</c-></code> is <code class="highlight">true</code>. </p><p></p><pre class="highlight"><c- k>static</c-> <c- k>constexpr</c-> <c- b>void</c-> <c- nf>shrink_to_fit</c-><c- p>()</c-> <c- k>noexcept</c-><c- p>;</c->
</pre> <p class="p">26․ <em>Effects:</em> None. </p><p></p><pre class="highlight"><c- k>constexpr</c-> <c- n>iterator</c-> <c- nf>erase</c-><c- p>(</c-><c- n>const_iterator</c-> <c- n>position</c-><c- p>);</c->
<c- k>constexpr</c-> <c- n>iterator</c-> <c- nf>erase</c-><c- p>(</c-><c- n>const_iterator</c-> <c- n>first</c-><c- p>,</c-> <c- n>const_iterator</c-> <c- n>last</c-><c- p>);</c->
<c- k>constexpr</c-> <c- b>void</c-> <c- nf>pop_back</c-><c- p>();</c->
</pre> <p class="p">27․ <em>Effects:</em> Invalidates iterators and references at or after the point of the erase. </p><p class="p">28․ <em>Throws:</em> Nothing unless an exception is thrown by the assignment operator or move assignment operator of <code class="highlight"><c- n>T</c-></code>. </p><p class="p">29․ <em>Complexity:</em> The destructor of <code class="highlight"><c- n>T</c-></code> is called the number of times equal to the number of the elements erased,
but the assignment operator of <code class="highlight"><c- n>T</c-></code> is called the number of times equal to the number of elements after the erased elements. </p><p></p><pre class="highlight"><inspablo><c- k>constexpr</c-> <c- b>void</c-> <c- nf>swap</c-><c- p>(</c-><c- n>inplace_vector</c-><c- o>&amp;</c-> <c- n>x</c-><c- p>)</c-></inspablo>
  <inspablo><c- k>noexcept</c-><c- p>(</c-><c- n>N</c-> <c- o>==</c-> <c- mi>0</c-> <c- o>||</c-> <c- p>(</c-><c- n>is_nothrow_swappable_v</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-> <c- o>&amp;&amp;</c-></inspablo>
                      <inspablo><i><c- n>is</c-><c- o>-</c-><c- n>nothrow</c-><c- o>-</c-><c- n>ua</c-><c- o>-</c-><c- n>constructible</c-><c- o>-</c-><c- n>v</c-></i><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>Allocator</c-><c- p>,</c-> <c- n>T</c-><c- o>&amp;&amp;></c-><c- p>));</c-></inspablo>
</pre> <p class="p"><inspablo>30․ <em>Effects:</em> If <code class="highlight"><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>A</c-><c- o>>::</c-><c- n>propagate_on_container_swap</c-><c- o>::</c-><c- n>value</c-> <c- o>&amp;&amp;</c-> <c- o>!</c-><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>A</c-><c- o>>::</c-><c- n>always_compare_equal</c-><c- o>::</c-><c- n>value</c-></code> is <code class="highlight">true</code>,
swap the allocators of <code class="highlight"><c- o>*</c-><c- k>this</c-></code> and <code class="highlight"><c- n>x</c-></code>.
Then, swap the first <code class="highlight"><c- n>m</c-></code> elements of <code class="highlight"><c- o>*</c-><c- k>this</c-></code> and <code class="highlight"><c- n>x</c-></code>, where <code class="highlight"><c- n>m</c-></code> is the smaller of <code class="highlight"><c- k>this</c-><c- o>-></c-><c- n>size</c-><c- p>()</c-></code> and <code class="highlight"><c- n>x</c-><c- p>.</c-><c- n>size</c-><c- p>()</c-></code>.
Then, move-insert the remaining elements from the longer <code class="highlight"><c- n>inplace_vector</c-></code> to the end of the shorter one,
then erase those elements from the longer <code class="highlight"><c- n>inplace_vector</c-></code>.</inspablo> </p><p class="p"><inspablo>32․ <em>Complexity:</em> Linear.</inspablo> </p><p></p><pre class="highlight"><insarthur><c- k>constexpr</c-> <c- b>void</c-> <c- nf>swap</c-><c- p>(</c-><c- n>inplace_vector</c-><c- o>&amp;</c-> <c- n>x</c-><c- p>)</c-> <c- k>noexcept</c-><c- p>(</c-><i><c- n>see</c-> <c- n>below</c-></i><c- p>);</c-></insarthur>
</pre> <p class="p"><insarthur>30․ <em>Preconditions:</em> Let <em>M</em> be <code class="highlight"><c- n>min</c-><c- p>(</c-><c- n>size</c-><c- p>(),</c-> <c- n>x</c-><c- p>.</c-><c- n>size</c-><c- p>())</c-></code>.
For each non-negative integer <em>n</em> &lt; <em>M</em>, <code class="highlight"><c- p>(</c-><c- o>*</c-><c- k>this</c-><c- p>)[</c-><c- n>n</c-><c- p>]</c-></code> is swappable with ([swappable.requirements]) <code class="highlight"><c- n>x</c-><c- p>[</c-><c- n>n</c-><c- p>]</c-></code>.
If <code class="highlight"><c- n>allocator_traits</c-><c- o>&lt;</c-><c- n>allocator_type</c-><c- o>>::</c-><c- n>propagate_on_container_swap</c-><c- o>::</c-><c- n>value</c-></code> is <code class="highlight">true</code>, then <code class="highlight"><c- n>allocator_type</c-></code> meets the <i><code class="highlight"><c- n>Cpp17Swappable</c-></code></i> requirements and <code class="highlight"><c- n>get_allocator</c-><c- p>()</c-> <c- o>==</c-> <c- n>x</c-><c- p>.</c-><c- n>get_allocator</c-><c- p>()</c-></code>.</insarthur> </p><p class="p"><insarthur>31․ <em>Effects:</em> Exchanges the contents of <code class="highlight"><c- o>*</c-><c- k>this</c-></code> and <code class="highlight"><c- n>x</c-></code>.</insarthur> </p><p class="p"><insarthur>32․ <em>Complexity:</em> Linear.</insarthur> </p><p class="p"><insarthur>33․ <em>Remarks:</em> When <code class="highlight"><c- n>allocator_type</c-></code> is <code class="highlight"><c- n>allocator</c-><c- o>&lt;</c-><c- n>value_type</c-><c- o>></c-></code>, the exception specification is equivalent to:</insarthur> </p><div style="margin: 0.5em 2em;"><pre class="highlight"><insarthur><c- n>is_nothrow_swappable_v</c-><c- o>&lt;</c-><c- n>value_type</c-><c- o>></c-> <c- o>&amp;&amp;</c-> <c- n>is_nothrow_move_constructible_v</c-><c- o>&lt;</c-><c- n>value_type</c-><c- o>></c-></insarthur>
</pre></div> <insarthur>Otherwise, the exception specification is unspecified.</insarthur> <p class="note" role="note"><b>DRAFTING NOTE:</b> The exception specification above is modeled on <a href="https://eel.is/c++draft/optional.swap#5">[optional.swap]/5</a>. </p><p><b>24.3.14.6 Erasure [inplace.vector.erasure]</b> </p><p></p><pre class="highlight"><c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>T</c-><c- p>,</c-> <c- b>size_t</c-> <c- n>N</c-><c- p>,</c-> <ins><c- k>class</c-> <c- nc>Allocator</c-><c- p>,</c-></ins> <c- k>class</c-> <c- nc>U</c-> <c- o>=</c-> <c- n>T</c-><c- o>></c->
  <c- k>constexpr</c-> <del><c- b>size_t</c-></del> <ins><c- k>typename</c-> <c- nc>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><c- p>,</c-> <c- n>Allocator</c-><c- o>>::</c-><c- n>size_type</c-></ins>
    <c- n>erase</c-><c- p>(</c-><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><ins><c- p>,</c-> <c- n>Allocator</c-></ins><c- o>>&amp;</c-> <c- n>c</c-><c- p>,</c-> <c- k>const</c-> <c- n>U</c-><c- o>&amp;</c-> <c- n>value</c-><c- p>);</c->
</pre> <p class="p">1․ <em>Effects:</em> Equivalent to: </p><div style="margin: 0.5em 2em;"><pre class="highlight">    <c- k>auto</c-> <c- n>it</c-> <c- o>=</c-> <c- n>remove</c-><c- p>(</c-><c- n>c</c-><c- p>.</c-><c- n>begin</c-><c- p>(),</c-> <c- n>c</c-><c- p>.</c-><c- n>end</c-><c- p>(),</c-> <c- n>value</c-><c- p>);</c->
    <c- k>auto</c-> <c- n>r</c-> <c- o>=</c-> <c- n>distance</c-><c- p>(</c-><c- n>it</c-><c- p>,</c-> <c- n>c</c-><c- p>.</c-><c- n>end</c-><c- p>());</c->
    <c- n>c</c-><c- p>.</c-><c- n>erase</c-><c- p>(</c-><c- n>it</c-><c- p>,</c-> <c- n>c</c-><c- p>.</c-><c- n>end</c-><c- p>());</c->
    <c- k>return</c-> <c- n>r</c-><c- p>;</c->
</pre></div> <p></p><pre class="highlight"><c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>T</c-><c- p>,</c-> <c- b>size_t</c-> <c- n>N</c-><c- p>,</c-> <ins><c- k>class</c-> <c- nc>Allocator</c-><c- p>,</c-></ins> <c- k>class</c-> <c- nc>Predicate</c-><c- o>></c->
  <c- k>constexpr</c-> <del><c- b>size_t</c-></del> <ins><c- k>typename</c-> <c- nc>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><c- p>,</c-> <c- n>Allocator</c-><c- o>>::</c-><c- n>size_type</c-></ins>
    <c- n>erase_if</c-><c- p>(</c-><c- n>inplace_vector</c-><c- o>&lt;</c-><c- n>T</c-><c- p>,</c-> <c- n>N</c-><ins><c- p>,</c-> <c- n>Allocator</c-></ins><c- o>>&amp;</c-> <c- n>c</c-><c- p>,</c-> <c- n>Predicate</c-> <c- n>pred</c-><c- p>);</c->
</pre> <p class="p">2․ <em>Effects:</em> Equivalent to: </p><div style="margin: 0.5em 2em;"><pre class="highlight">    <c- k>auto</c-> <c- n>it</c-> <c- o>=</c-> <c- n>remove_if</c-><c- p>(</c-><c- n>c</c-><c- p>.</c-><c- n>begin</c-><c- p>(),</c-> <c- n>c</c-><c- p>.</c-><c- n>end</c-><c- p>(),</c-> <c- n>pred</c-><c- p>);</c->
    <c- k>auto</c-> <c- n>r</c-> <c- o>=</c-> <c- n>distance</c-><c- p>(</c-><c- n>it</c-><c- p>,</c-> <c- n>c</c-><c- p>.</c-><c- n>end</c-><c- p>());</c->
    <c- n>c</c-><c- p>.</c-><c- n>erase</c-><c- p>(</c-><c- n>it</c-><c- p>,</c-> <c- n>c</c-><c- p>.</c-><c- n>end</c-><c- p>());</c->
    <c- k>return</c-> <c- n>r</c-><c- p>;</c->
</pre></div> </ul></small>
   </blockquote>
   <small> </small> 
  </main>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">←</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">→</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">↑</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Don't scroll to compensate for the ToC if we're above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I don't know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldn't exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isn't standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we don't have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While we're at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Can't find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-lwg4151">[LWG4151]
   <dd>Arthur O'Dwyer. <a href="https://cplusplus.github.io/LWG/issue4151"><cite>Precondition of inplace_vector::swap</cite></a>. September 2024. URL: <a href="https://cplusplus.github.io/LWG/issue4151">https://cplusplus.github.io/LWG/issue4151</a>
   <dt id="biblio-mital">[Mital]
   <dd>Mital Ashok. <a href="https://github.com/llvm/llvm-project/pull/105981"><cite>[libc++] Implement std::inplace_vector&lt;T, N></cite></a>. August 2024. URL: <a href="https://github.com/llvm/llvm-project/pull/105981">https://github.com/llvm/llvm-project/pull/105981</a>
   <dt id="biblio-p0843">[P0843]
   <dd>Gonzalo Brito Gadeschi; et al. <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p0843r14.html"><cite>inplace_vector</cite></a>. June 2024. URL: <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p0843r14.html">https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p0843r14.html</a>
   <dt id="biblio-p1642">[P1642]
   <dd>Ben Craig. <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1642r11.html"><cite>Freestanding Library: Easy [utilities], [ranges], and [iterators]</cite></a>. July 2022. URL: <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1642r11.html">https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1642r11.html</a>
   <dt id="biblio-p2198">[P2198]
   <dd>Ben Craig. <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2198r7.html"><cite>Freestanding Feature-Test Macros and Implementation-Defined Extensions</cite></a>. December 2022. URL: <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2198r7.html">https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2198r7.html</a>
   <dt id="biblio-p3160r1">[P3160R1]
   <dd>Pablo Halpern. <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3160r1.html"><cite>Allocator-aware inplace_vector</cite></a>. March 2024. URL: <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3160r1.html">https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3160r1.html</a>
   <dt id="biblio-p3160r2">[P3160R2]
   <dd>Pablo Halpern. <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3160r2.html"><cite>Allocator-aware inplace_vector</cite></a>. October 2024. URL: <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3160r2.html">https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3160r2.html</a>
   <dt id="biblio-p3295">[P3295]
   <dd>Ben Craig. <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3295r0.html"><cite>Freestanding constexpr containers and constexpr exception types</cite></a>. May 2024. URL: <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3295r0.html">https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3295r0.html</a>
   <dt id="biblio-quuxplusonesg14">[QuuxplusoneSG14]
   <dd>Arthur O'Dwyer. <a href="https://github.com/Quuxplusone/SG14?tab=readme-ov-file#allocator-aware-in-place-vector-future--c20"><cite>Quuxplusone/SG14: Allocator-aware in-place vector (future > C++20)</cite></a>. August 2024. URL: <a href="https://github.com/Quuxplusone/SG14?tab=readme-ov-file#allocator-aware-in-place-vector-future--c20">https://github.com/Quuxplusone/SG14?tab=readme-ov-file#allocator-aware-in-place-vector-future--c20</a>
  </dl>